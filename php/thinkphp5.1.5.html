<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuepress</title>
    <meta name="description" content="vuepress">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/vuepress/assets/css/0.styles.68cb6b73.css" as="style"><link rel="preload" href="/vuepress/assets/js/app.78d76abf.js" as="script"><link rel="preload" href="/vuepress/assets/js/4.d8ab8fde.js" as="script"><link rel="preload" href="/vuepress/assets/js/16.7a15ea25.js" as="script"><link rel="prefetch" href="/vuepress/assets/js/10.7d30284d.js"><link rel="prefetch" href="/vuepress/assets/js/11.2b502189.js"><link rel="prefetch" href="/vuepress/assets/js/12.6b37e325.js"><link rel="prefetch" href="/vuepress/assets/js/13.26ac10f5.js"><link rel="prefetch" href="/vuepress/assets/js/14.7b859e8c.js"><link rel="prefetch" href="/vuepress/assets/js/15.e710549d.js"><link rel="prefetch" href="/vuepress/assets/js/17.533656ec.js"><link rel="prefetch" href="/vuepress/assets/js/18.99401dd0.js"><link rel="prefetch" href="/vuepress/assets/js/2.2b239c25.js"><link rel="prefetch" href="/vuepress/assets/js/3.3e699e10.js"><link rel="prefetch" href="/vuepress/assets/js/5.cfa5e03e.js"><link rel="prefetch" href="/vuepress/assets/js/6.b45a4729.js"><link rel="prefetch" href="/vuepress/assets/js/7.9b093f33.js"><link rel="prefetch" href="/vuepress/assets/js/8.8e1d2b98.js"><link rel="prefetch" href="/vuepress/assets/js/9.a3cf0ec3.js">
    <link rel="stylesheet" href="/vuepress/assets/css/0.styles.68cb6b73.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="content__default"><h2 id="thinkphp-速查表-5-1-5">ThinkPHP 速查表 5.1.5</h2> <div class="card"><div class="card-box"><p class="title">App</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$App</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 绑定模块或者控制器
 * @access public
 * @param  string $bind
 * @return $this
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token variable">$bind</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置应用类库目录
 * @access public
 * @param  string $path 路径
 * @return $this
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 初始化应用
 * @access public
 * @return void
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 初始化应用或模块
 * @access public
 * @param  string $module 模块名
 * @return void
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token variable">$module</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 执行应用程序
 * @access public
 * @return Response
 * @throws Exception
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置当前请求的调度信息
 * @access public
 * @param  Dispatch  $dispatch 调度信息
 * @return $this
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token variable">$dispatch</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录调试信息
 * @access public
 * @param  mixed  $msg  调试信息
 * @param  string $type 信息类型
 * @return void
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token variable">$log</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'info'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取配置参数 为空则获取所有配置
 * @access public
 * @param  string$name 配置参数名（支持二级配置 .号分割）
 * @return mixed
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * URL路由检测（根据PATH_INFO)
 * @access public
 * @return Dispatch
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">routeCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置应用的路由检测机制
 * @access public
 * @param  bool $must  是否强制检测路由
 * @return $this
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">routeMust</span><span class="token punctuation">(</span><span class="token variable">$must</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析模块和类名
 * @access protected
 * @param  string $name 资源地址
 * @param  string $layer验证层名称
 * @param  bool   $appendSuffix 是否添加类名后缀
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseModuleAndClass</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$layer</span><span class="token punctuation">,</span> <span class="token variable">$appendSuffix</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 实例化应用类库
 * @access public
 * @param  string $name 类名称
 * @param  string $layer业务层名称
 * @param  bool   $appendSuffix 是否添加类名后缀
 * @param  string $common   公共模块名
 * @return object
 * @throws ClassNotFoundException
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$layer</span><span class="token punctuation">,</span> <span class="token variable">$appendSuffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$common</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'common'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 实例化（分层）模型
 * @access public
 * @param  string $name Model名称
 * @param  string $layer业务层名称
 * @param  bool   $appendSuffix 是否添加类名后缀
 * @param  string $common   公共模块名
 * @return Model
 * @throws ClassNotFoundException
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$layer</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'model'</span><span class="token punctuation">,</span> <span class="token variable">$appendSuffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$common</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'common'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 实例化（分层）控制器 格式：[模块名/]控制器名
 * @access public
 * @param  string $name  资源地址
 * @param  string $layer 控制层名称
 * @param  bool   $appendSuffix  是否添加类名后缀
 * @param  string $empty 空控制器名称
 * @return object
 * @throws ClassNotFoundException
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$layer</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'controller'</span><span class="token punctuation">,</span> <span class="token variable">$appendSuffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$empty</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 实例化验证类 格式：[模块名/]验证器名
 * @access public
 * @param  string $name 资源地址
 * @param  string $layer验证层名称
 * @param  bool   $appendSuffix 是否添加类名后缀
 * @param  string $common   公共模块名
 * @return Validate
 * @throws ClassNotFoundException
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$layer</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'validate'</span><span class="token punctuation">,</span> <span class="token variable">$appendSuffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$common</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'common'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 数据库初始化
 * @access public
 * @param  mixed $config 数据库配置
 * @param  bool|string   $name 连接标识 true 强制重新连接
 * @return \think\db\Query
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">db</span><span class="token punctuation">(</span><span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 远程调用模块的操作方法 参数格式 [模块/控制器/]操作
 * @access public
 * @param  string   $url  调用地址
 * @param  string|array $vars 调用参数 支持字符串和数组
 * @param  string   $layer要调用的控制层名称
 * @param  bool $appendSuffix 是否添加类名后缀
 * @return mixed
 * @throws ClassNotFoundException
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$layer</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'controller'</span><span class="token punctuation">,</span> <span class="token variable">$appendSuffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析应用类的类名
 * @access public
 * @param  string $module 模块名
 * @param  string $layer  层名 controller model ...
 * @param  string $name   类名
 * @param  bool   $appendSuffix
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseClass</span><span class="token punctuation">(</span><span class="token variable">$module</span><span class="token punctuation">,</span> <span class="token variable">$layer</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$appendSuffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取框架版本
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为调试模式
 * @access public
 * @return bool
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取模块路径
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getModulePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置模块路径
 * @access public
 * @param  string $path 路径
 * @return void
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setModulePath</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取应用根目录
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRootPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取应用类库目录
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getAppPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取应用运行时目录
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRuntimePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取核心框架目录
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getThinkPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取路由目录
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRoutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取应用配置目录
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getConfigPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取配置后缀
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getConfigExt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取应用类库命名空间
 * @access public
 * @return string
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getNamespace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置应用类库命名空间
 * @access public
 * @param  string $namespace 命名空间名称
 * @return $this
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setNamespace</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否启用类库后缀
 * @access public
 * @return bool
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSuffix</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取应用开启时间
 * @access public
 * @return float
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBeginTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取应用初始内存占用
 * @access public
 * @return integer
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBeginMem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取容器实例
 * @access public
 * @return Container
 */</span>
App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__get</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__isset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__unset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetExists</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetGet</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetSet</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

App<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetUnset</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Build</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Build</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 根据传入的build资料创建目录和文件
 * @access public
 * @param  array  $build build列表
 * @param  string $namespace 应用类库命名空间
 * @param  bool   $suffix 类库后缀
 * @return void
 */</span>
Build<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token variable">$build</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$namespace</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'app'</span><span class="token punctuation">,</span> <span class="token variable">$suffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建目录
 * @access protected
 * @param  array $list 目录列表
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildDir</span><span class="token punctuation">(</span><span class="token variable">$list</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建文件
 * @access protected
 * @param  array $list 文件列表
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildFile</span><span class="token punctuation">(</span><span class="token variable">$list</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建模块
 * @access public
 * @param  string $module 模块名
 * @param  array  $list build列表
 * @param  string $namespace 应用类库命名空间
 * @param  bool   $suffix 类库后缀
 * @return void
 */</span>
Build<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token variable">$module</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$namespace</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'app'</span><span class="token punctuation">,</span> <span class="token variable">$suffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 根据注释自动生成路由规则
 * @access public
 * @param  bool   $suffix 类库后缀
 * @param  string $layer  控制器层目录名
 * @return string
 */</span>
Build<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildRoute</span><span class="token punctuation">(</span><span class="token variable">$alias</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$layer</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 生成控制器类的路由规则
 * @access protected
 * @param  string $namespace 应用命名空间
 * @param  string $module 模块
 * @param  string $controller 控制器名
 * @param  bool   $suffix 类库后缀
 * @param  string $layer 控制器层目录名
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getControllerRoute</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">,</span> <span class="token variable">$module</span><span class="token punctuation">,</span> <span class="token variable">$controller</span><span class="token punctuation">,</span> <span class="token variable">$alias</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$layer</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析路由注释
 * @access protected
 * @param  string $comment
 * @param  string $tag
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseRouteComment</span><span class="token punctuation">(</span><span class="token variable">$comment</span><span class="token punctuation">,</span> <span class="token variable">$tag</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'@route('</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取方法的路由注释
 * @access protected
 * @param  string   $module 模块
 * @param  string   $controller 控制器名
 * @param  \ReflectMethod   $reflectMethod
 * @return string|void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMethodRouteComment</span><span class="token punctuation">(</span><span class="token variable">$module</span><span class="token punctuation">,</span> <span class="token variable">$controller</span><span class="token punctuation">,</span> <span class="token variable">$reflectMethod</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建模块的欢迎页面
 * @access protected
 * @param  string $module 模块名
 * @param  string $namespace 应用类库命名空间
 * @param  bool   $suffix 类库后缀
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildHello</span><span class="token punctuation">(</span><span class="token variable">$module</span><span class="token punctuation">,</span> <span class="token variable">$namespace</span><span class="token punctuation">,</span> <span class="token variable">$suffix</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建模块的公共文件
 * @access protected
 * @param  string $module 模块名
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildCommon</span><span class="token punctuation">(</span><span class="token variable">$module</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建目录
 * @access protected
 * @param  string $dirname 目录名称
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkDirBuild</span><span class="token punctuation">(</span><span class="token variable">$dirname</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Cache</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Cache</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 连接缓存
 * @access public
 * @param  array $options  配置数组
 * @param  bool|string   $name 缓存连接标识 true 强制重新连接
 * @return Driver
 */</span>
Cache<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动初始化缓存
 * @access public
 * @param  array $options  配置数组
 * @return Driver
 */</span>
Cache<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 切换缓存类型 需要配置 cache.type 为 complex
 * @access public
 * @param  string $name 缓存标识
 * @return Driver
 */</span>
Cache<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

Cache<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__call</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Collection</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Collection</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$items</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为空
 * @access public
 * @return bool
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 合并数组
 *
 * @access public
 * @param  mixed $items
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token variable">$items</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 比较数组，返回差集
 *
 * @access public
 * @param  mixed $items
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">diff</span><span class="token punctuation">(</span><span class="token variable">$items</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 交换数组中的键和值
 *
 * @access public
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 比较数组，返回交集
 *
 * @access public
 * @param  mixed $items
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">intersect</span><span class="token punctuation">(</span><span class="token variable">$items</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回数组中所有的键名
 *
 * @access public
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 删除数组的最后一个元素（出栈）
 *
 * @access public
 * @return mixed
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 通过使用用户自定义函数，以字符串返回数组
 *
 * @access public
 * @param  callable $callback
 * @param  mixed$initial
 * @return mixed
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$initial</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 以相反的顺序返回数组。
 *
 * @access public
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 删除数组中首个元素，并返回被删除元素的值
 *
 * @access public
 * @return mixed
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 在数组结尾插入一个元素
 * @access public
 * @param  mixed  $value
 * @param  mixed  $key
 * @return void
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 把一个数组分割为新的数组块.
 *
 * @access public
 * @param  int  $size
 * @param  bool $preserveKeys
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">chunk</span><span class="token punctuation">(</span><span class="token variable">$size</span><span class="token punctuation">,</span> <span class="token variable">$preserveKeys</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 在数组开头插入一个元素
 * @access public
 * @param mixed  $value
 * @param mixed  $key
 * @return void
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 给每个元素执行个回调
 *
 * @access public
 * @param  callable $callback
 * @return $this
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 用回调函数过滤数组中的元素
 * @access public
 * @param  callable|null $callback
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回数据中指定的一列
 * @access public
 * @param mixed $columnKey 键名
 * @param mixed $indexKey  作为索引值的列
 * @return array
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token variable">$columnKey</span><span class="token punctuation">,</span> <span class="token variable">$indexKey</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 对数组排序
 *
 * @access public
 * @param  callable|null $callback
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 将数组打乱
 *
 * @access public
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 截取数组
 *
 * @access public
 * @param  int  $offset
 * @param  int  $length
 * @param  bool $preserveKeys
 * @return static
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">,</span> <span class="token variable">$length</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$preserveKeys</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetExists</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetGet</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetSet</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetUnset</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">jsonSerialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 转换当前数据集为JSON字符串
 * @access public
 * @param  integer $options json参数
 * @return string
 */</span>
Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">)</span>

Collection<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 转换成数组
 *
 * @access public
 * @param  mixed $items
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">convertToArray</span><span class="token punctuation">(</span><span class="token variable">$items</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Config</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Config</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 设置配置参数默认前缀
 * @access public
 * @param string$prefix 前缀
 * @return void
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setDefaultPrefix</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析配置文件或内容
 * @access public
 * @param  string$config 配置文件路径或内容
 * @param  string$type 配置解析类型
 * @param  string$name 配置名（如设置即表示二级配置）
 * @return mixed
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token variable">$config</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 加载配置文件（多种格式）
 * @access public
 * @param  string$file 配置文件名
 * @param  string$name 一级配置名
 * @return mixed
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动加载配置文件（PHP格式）
 * @access public
 * @param  string$name 配置名
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">autoLoad</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测配置是否存在
 * @access public
 * @param  string$name 配置参数名（支持多级配置 .号分割）
 * @return bool
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取一级配置
 * @access public
 * @param  string$name 一级配置名
 * @return array
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取配置参数 为空则获取所有配置
 * @access public
 * @param  string$name 配置参数名（支持多级配置 .号分割）
 * @return mixed
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置配置参数 name为数组则为批量设置
 * @access public
 * @param  string|array  $name 配置参数名（支持三级配置 .号分割）
 * @param  mixed $value 配置值
 * @return mixed
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 移除配置
 * @access public
 * @param  string  $name 配置参数名（支持三级配置 .号分割）
 * @return void
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 重置配置参数
 * @access public
 * @param  string$prefix  配置前缀名
 * @return void
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置配置
 * @access public
 * @param  string$name  参数名
 * @param  mixed $value 值
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取配置参数
 * @access public
 * @param  string $name 参数名
 * @return mixed
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__get</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测是否存在参数
 * @access public
 * @param  string $name 参数名
 * @return bool
 */</span>
Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__isset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetSet</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetExists</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetUnset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

Config<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetGet</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Console</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Console</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Console</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token variable">$run</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * @access public
 * @param  string $command
 * @param  array  $parameters
 * @param  string $driver
 * @return Output|Buffer
 */</span>
Console<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token variable">$command</span><span class="token punctuation">,</span> <span class="token variable">$parameters</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$driver</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'buffer'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 执行当前的指令
 * @access public
 * @return int
 * @throws \Exception
 * @api
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 执行指令
 * @access public
 * @param  Input  $input
 * @param  Output $output
 * @return int
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">doRun</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">,</span> <span class="token variable">$output</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置输入参数定义
 * @access public
 * @param  InputDefinition $definition
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setDefinition</span><span class="token punctuation">(</span><span class="token variable">$definition</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取输入参数定义
 * @access public
 * @return InputDefinition The InputDefinition instance
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Gets the help message.
 * @access public
 * @return string A help message.
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getHelp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否捕获异常
 * @access public
 * @param  bool $boolean
 * @api
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setCatchExceptions</span><span class="token punctuation">(</span><span class="token variable">$boolean</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否自动退出
 * @access public
 * @param  bool $boolean
 * @api
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAutoExit</span><span class="token punctuation">(</span><span class="token variable">$boolean</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取名称
 * @access public
 * @return string
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置名称
 * @access public
 * @param  string $name
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取版本
 * @access public
 * @return string
 * @api
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置版本
 * @access public
 * @param  string $version
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setVersion</span><span class="token punctuation">(</span><span class="token variable">$version</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取完整的版本号
 * @access public
 * @return string
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getLongVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册一个指令
 * @access public
 * @param  string $name
 * @return Command
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 添加指令
 * @access public
 * @param  Command[] $commands
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addCommands</span><span class="token punctuation">(</span><span class="token variable">$commands</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 添加一个指令
 * @access public
 * @param  Command $command
 * @return Command
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token variable">$command</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取指令
 * @access public
 * @param  string $name 指令名称
 * @return Command
 * @throws \InvalidArgumentException
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 某个指令是否存在
 * @access public
 * @param  string $name 指令名称
 * @return bool
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取所有的命名空间
 * @access public
 * @return array
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getNamespaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查找注册命名空间中的名称或缩写。
 * @access public
 * @param  string $namespace
 * @return string
 * @throws \InvalidArgumentException
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findNamespace</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查找指令
 * @access public
 * @param  string $name 名称或者别名
 * @return Command
 * @throws \InvalidArgumentException
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取所有的指令
 * @access public
 * @param  string $namespace 命名空间
 * @return Command[]
 * @api
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token variable">$namespace</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取可能的指令名
 * @access public
 * @param  array $names
 * @return array
 */</span>
Console<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getAbbreviations</span><span class="token punctuation">(</span><span class="token variable">$names</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 配置基于用户的参数和选项的输入和输出实例。
 * @access protected
 * @param  Input  $input  输入实例
 * @param  Output $output 输出实例
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">configureIO</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">,</span> <span class="token variable">$output</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 执行指令
 * @access protected
 * @param  Command $command 指令实例
 * @param  Input   $input   输入实例
 * @param  Output  $output  输出实例
 * @return int
 * @throws \Exception
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">doRunCommand</span><span class="token punctuation">(</span><span class="token variable">$command</span><span class="token punctuation">,</span> <span class="token variable">$input</span><span class="token punctuation">,</span> <span class="token variable">$output</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取指令的基础名称
 * @access protected
 * @param  Input $input
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCommandName</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取默认输入定义
 * @access protected
 * @return InputDefinition
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getDefaultInputDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置默认命令
 * @access protected
 * @return Command[] An array of default Command instances
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getDefaultCommands</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Console<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addDefaultCommands</span><span class="token punctuation">(</span><span class="token variable">$classnames</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取可能的建议
 * @access private
 * @param  array $abbrevs
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getAbbreviationSuggestions</span><span class="token punctuation">(</span><span class="token variable">$abbrevs</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回命名空间部分
 * @access public
 * @param  string $name  指令
 * @param  string $limit 部分的命名空间的最大数量
 * @return string
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">extractNamespace</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$limit</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查找可替代的建议
 * @access private
 * @param  string $name
 * @param  array|\Traversable $collection
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findAlternatives</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$collection</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置默认的指令
 * @access public
 * @param  string $commandName The Command name
 */</span>
Console<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setDefaultCommand</span><span class="token punctuation">(</span><span class="token variable">$commandName</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回所有的命名空间
 * @access private
 * @param  string $name
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">extractAllNamespaces</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Container</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Container</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 获取当前容器的实例（单例）
 * @access public
 * @return static
 */</span>
Container<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取容器中的对象实例
 * @access public
 * @param  string$abstract   类名或者标识
 * @param  array|true$vars   变量
 * @param  bool  $newInstance是否每次创建新的实例
 * @return object
 */</span>
Container<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$abstract</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$newInstance</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 绑定一个类、闭包、实例、接口实现到容器
 * @access public
 * @param  string  $abstract类标识、接口
 * @param  mixed   $concrete要绑定的类、闭包或者实例
 * @return Container
 */</span>
Container<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$abstract</span><span class="token punctuation">,</span> <span class="token variable">$concrete</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 绑定一个类、闭包、实例、接口实现到容器
 * @access public
 * @param  string|array  $abstract类标识、接口
 * @param  mixed $concrete要绑定的类、闭包或者实例
 * @return $this
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token variable">$abstract</span><span class="token punctuation">,</span> <span class="token variable">$concrete</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 绑定一个类实例当容器
 * @access public
 * @param  string$abstract类名或者标识
 * @param  object$instance类的实例
 * @return $this
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token variable">$abstract</span><span class="token punctuation">,</span> <span class="token variable">$instance</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 判断容器中是否存在类及标识
 * @access public
 * @param  string$abstract类名或者标识
 * @return bool
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">bound</span><span class="token punctuation">(</span><span class="token variable">$abstract</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 判断容器中是否存在类及标识
 * @access public
 * @param  string$name类名或者标识
 * @return bool
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建类的实例
 * @access public
 * @param  string$abstract   类名或者标识
 * @param  array|true$args   变量
 * @param  bool  $newInstance是否每次创建新的实例
 * @return object
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$abstract</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$newInstance</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 执行函数或者闭包方法 支持参数调用
 * @access public
 * @param  string|array|\Closure $function 函数或者闭包
 * @param  array $vars 变量
 * @return mixed
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">invokeFunction</span><span class="token punctuation">(</span><span class="token variable">$function</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 调用反射执行类的方法 支持参数绑定
 * @access public
 * @param  string|array $method 方法
 * @param  array$vars   变量
 * @return mixed
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">invokeMethod</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 调用反射执行callable 支持参数绑定
 * @access public
 * @param  mixed $callable
 * @param  array $vars   变量
 * @return mixed
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token variable">$callable</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 调用反射执行类的实例化 支持依赖注入
 * @access public
 * @param  string$class 类名
 * @param  array $vars  变量
 * @return mixed
 */</span>
Container<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">invokeClass</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 绑定参数
 * @access protected
 * @param  \ReflectionMethod|\ReflectionFunction $reflect 反射类
 * @param  array $vars变量
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">bindParams</span><span class="token punctuation">(</span><span class="token variable">$reflect</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Controller</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Controller</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Controller</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 前置操作
 * @access protected
 * @param  string $method  前置操作方法名
 * @param  array  $options 调用参数 ['only'=&gt;[...]] 或者['except'=&gt;[...]]
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">beforeAction</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 加载模板输出
 * @access protected
 * @param  string $template 模板文件名
 * @param  array  $vars 模板输出变量
 * @param  array  $config   模板参数
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token variable">$template</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 渲染内容输出
 * @access protected
 * @param  string $content 模板内容
 * @param  array  $vars模板输出变量
 * @param  array  $config  模板参数
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token variable">$content</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板变量赋值
 * @access protected
 * @param  mixed $name  要显示的模板变量
 * @param  mixed $value 变量的值
 * @return $this
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 视图过滤
 * @access protected
 * @param  Callable $filter 过滤方法或闭包
 * @return $this
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token variable">$filter</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 初始化模板引擎
 * @access protected
 * @param  array|string $engine 引擎参数
 * @return $this
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token variable">$engine</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置验证失败后是否抛出异常
 * @access protected
 * @param  bool $fail 是否抛出异常
 * @return $this
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">validateFailException</span><span class="token punctuation">(</span><span class="token variable">$fail</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证数据
 * @access protected
 * @param  array$data 数据
 * @param  string|array $validate 验证器名或者验证规则数组
 * @param  array$message  提示信息
 * @param  bool $batch是否批量验证
 * @param  mixed$callback 回调方法（闭包）
 * @return array|string|true
 * @throws ValidateException
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$validate</span><span class="token punctuation">,</span> <span class="token variable">$message</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$batch</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 操作成功跳转的快捷方法
 * @access protected
 * @param  mixed $msg 提示信息
 * @param  string$url 跳转的URL地址
 * @param  mixed $data 返回的数据
 * @param  integer   $wait 跳转等待时间
 * @param  array $header 发送的Header信息
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$url</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$wait</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token variable">$header</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 操作错误跳转的快捷方法
 * @access protected
 * @param  mixed $msg 提示信息
 * @param  string$url 跳转的URL地址
 * @param  mixed $data 返回的数据
 * @param  integer   $wait 跳转等待时间
 * @param  array $header 发送的Header信息
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$url</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$wait</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token variable">$header</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回封装后的API数据到客户端
 * @access protected
 * @param  mixed $data 要返回的数据
 * @param  integer   $code 返回的code
 * @param  mixed $msg 提示信息
 * @param  string$type 返回数据格式
 * @param  array $header 发送的Header信息
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">result</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$code</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$header</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * URL重定向
 * @access protected
 * @param  string $url 跳转的URL表达式
 * @param  array|integer  $params 其它URL参数
 * @param  integer$code http code
 * @param  array  $with 隐式传参
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token variable">$params</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$code</span> <span class="token operator">=</span> <span class="token number">302</span><span class="token punctuation">,</span> <span class="token variable">$with</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前的response 输出类型
 * @access protected
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getResponseType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Cookie</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Cookie</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * Cookie初始化
 * @access public
 * @param  array $config
 * @return void
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取cookie作用域（前缀）
 * @access public
 * @param  string $prefix
 * @return string|void
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">prefix</span><span class="token punctuation">(</span><span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Cookie 设置、获取、删除
 *
 * @access public
 * @param  string $name  cookie名称
 * @param  mixed  $value cookie值
 * @param  mixed  $option 可选参数 可能会是 null|integer|string
 * @return void
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 永久保存Cookie数据
 * @access public
 * @param  string $name  cookie名称
 * @param  mixed  $value cookie值
 * @param  mixed  $option 可选参数 可能会是 null|integer|string
 * @return void
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">forever</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 判断Cookie数据
 * @access public
 * @param  string$name cookie名称
 * @param  string|null   $prefix cookie前缀
 * @return bool
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Cookie获取
 * @access public
 * @param  string$name cookie名称 留空获取全部
 * @param  string|null   $prefix cookie前缀
 * @return mixed
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Cookie删除
 * @access public
 * @param  string$name cookie名称
 * @param  string|null   $prefix cookie前缀
 * @return void
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Cookie清空
 * @access public
 * @param  string|null $prefix cookie前缀
 * @return void
 */</span>
Cookie<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">jsonFormatProtect</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$val</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'encode'</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Db</p><div class="language-php extra-class"><pre class="language-php"><code>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">__callStatic</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Debug</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Debug</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Debug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 记录时间（微秒）和内存使用情况
 * @access public
 * @param  string$name 标记位置
 * @param  mixed $value 标记值 留空则取当前 time 表示仅记录时间 否则同时记录时间和内存
 * @return void
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">remark</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 统计某个区间的时间（微秒）使用情况
 * @access public
 * @param  string$start 开始标签
 * @param  string$end 结束标签
 * @param  integer|string$dec 小数位
 * @return integer
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRangeTime</span><span class="token punctuation">(</span><span class="token variable">$start</span><span class="token punctuation">,</span> <span class="token variable">$end</span><span class="token punctuation">,</span> <span class="token variable">$dec</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 统计从开始到统计时的时间（微秒）使用情况
 * @access public
 * @param  integer|string $dec 小数位
 * @return integer
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getUseTime</span><span class="token punctuation">(</span><span class="token variable">$dec</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前访问的吞吐率情况
 * @access public
 * @return string
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getThroughputRate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录区间的内存使用情况
 * @access public
 * @param  string$start 开始标签
 * @param  string$end 结束标签
 * @param  integer|string$dec 小数位
 * @return string
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRangeMem</span><span class="token punctuation">(</span><span class="token variable">$start</span><span class="token punctuation">,</span> <span class="token variable">$end</span><span class="token punctuation">,</span> <span class="token variable">$dec</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 统计从开始到统计时的内存使用情况
 * @access public
 * @param  integer|string $dec 小数位
 * @return string
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getUseMem</span><span class="token punctuation">(</span><span class="token variable">$dec</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 统计区间的内存峰值情况
 * @access public
 * @param  string$start 开始标签
 * @param  string$end 结束标签
 * @param  integer|string$dec 小数位
 * @return string
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMemPeak</span><span class="token punctuation">(</span><span class="token variable">$start</span><span class="token punctuation">,</span> <span class="token variable">$end</span><span class="token punctuation">,</span> <span class="token variable">$dec</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取文件加载信息
 * @access public
 * @param  bool  $detail 是否显示详细
 * @return integer|array
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token variable">$detail</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 浏览器友好的变量输出
 * @access public
 * @param  mixed $var 变量
 * @param  boolean   $echo 是否输出 默认为true 如果为false 则返回输出字符串
 * @param  string$label 标签 默认为空
 * @param  integer   $flags htmlspecialchars flags
 * @return void|string
 */</span>
Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dump</span><span class="token punctuation">(</span><span class="token variable">$var</span><span class="token punctuation">,</span> <span class="token variable">$echo</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span> <span class="token variable">$label</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$flags</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span>

Debug<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">inject</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span> 
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Env</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Env</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Env</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 读取环境变量定义文件
 * @access public
 * @param  string$file  环境变量定义文件
 * @return void
 */</span>
Env<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取环境变量值
 * @access public
 * @param  string$name 环境变量名
 * @param  mixed $default  默认值
 * @return mixed
 */</span>
Env<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getEnv</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置环境变量值
 * @access public
 * @param  string|array  $env   环境变量
 * @param  mixed $value  值
 * @return void
 */</span>
Env<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$env</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Error</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * 注册异常处理
 * @access public
 * @return void
 */</span>
Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Exception Handler
 * @access public
 * @param  \Exception|\Throwable $e
 */</span>
Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">appException</span><span class="token punctuation">(</span><span class="token variable">$e</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Error Handler
 * @access public
 * @param  integer $errno   错误编号
 * @param  integer $errstr  详细错误信息
 * @param  string  $errfile 出错的文件
 * @param  integer $errline 出错行号
 * @throws ErrorException
 */</span>
Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">appError</span><span class="token punctuation">(</span><span class="token variable">$errno</span><span class="token punctuation">,</span> <span class="token variable">$errstr</span><span class="token punctuation">,</span> <span class="token variable">$errfile</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$errline</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Shutdown Handler
 * @access public
 */</span>
Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">appShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 确定错误类型是否致命
 *
 * @access protected
 * @param  int $type
 * @return bool
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">isFatal</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Get an instance of the exception handler.
 *
 * @access public
 * @return Handle
 */</span>
Error<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getExceptionHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Exception</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Exception</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 设置异常额外的Debug数据
 * 数据将会显示为下面的格式
 *
 * Exception Data
 * --------------------------------------------------
 * Label 
1 *   key1  value
1 *   key2  value2
 * Label 2
 *   key1  value
1 *   key2  value2
 *
 * @access protected
 * @param  string $label 数据分类，用于异常页面显示
 * @param  array  $data  需要显示的数据，必须为关联数组
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token variable">$label</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取异常额外Debug数据
 * 主要用于输出到异常页面便于调试
 * @access public
 * @return array 由setData设置的Debug数据
 */</span>
Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTraceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Exception<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Facade</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * 绑定类的静态代理
 * @static
 * @access public
 * @param  string|array  $name类标识
 * @param  string$class   类名
 * @return object
 */</span>
Facade<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$class</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建Facade实例
 * @static
 * @access protected
 * @param  string$class  类名或标识
 * @param  array $args   变量
 * @param  bool  $newInstance是否每次创建新的实例
 * @return object
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">createFacade</span><span class="token punctuation">(</span><span class="token variable">$class</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$args</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$newInstance</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前Facade对应类名
 * @access protected
 * @return string
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getFacadeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 带参数实例化当前Facade类
 * @access public
 * @return object
 */</span>
Facade<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 调用类的实例
 * @access public
 * @param  string$class  类名或者标识
 * @param  array|true$args   变量
 * @param  bool  $newInstance是否每次创建新的实例
 * @return object
 */</span>
Facade<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">,</span> <span class="token variable">$args</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$newInstance</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

Facade<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">__callStatic</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$params</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">File</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$File</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 是否测试
 * @access public
 * @param  bool   $test 是否测试
 * @return $this
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isTest</span><span class="token punctuation">(</span><span class="token variable">$test</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置上传信息
 * @access public
 * @param  array   $info 上传文件信息
 * @return $this
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setUploadInfo</span><span class="token punctuation">(</span><span class="token variable">$info</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取上传文件的信息
 * @access public
 * @param  string   $name
 * @return array|string
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取上传文件的文件名
 * @access public
 * @return string
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSaveName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置上传文件的保存文件名
 * @access public
 * @param  string   $saveName
 * @return $this
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setSaveName</span><span class="token punctuation">(</span><span class="token variable">$saveName</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取文件的哈希散列值
 * @access public
 * @param  string $type
 * @return string
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hash</span><span class="token punctuation">(</span><span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'sha1'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查目录是否可写
 * @access public
 * @param  string   $path目录
 * @return boolean
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkPath</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取文件类型信息
 * @access public
 * @return string
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置文件的命名规则
 * @access public
 * @param  string   $rule文件命名规则
 * @return $this
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置上传文件的验证规则
 * @access public
 * @param  array   $rule验证规则
 * @return $this
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测是否合法的上传文件
 * @access public
 * @return bool
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测上传文件
 * @access public
 * @param  array   $rule验证规则
 * @return bool
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测上传文件后缀
 * @access public
 * @param  array|string   $ext允许后缀
 * @return bool
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkExt</span><span class="token punctuation">(</span><span class="token variable">$ext</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测图像文件
 * @access public
 * @return bool
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getImageType</span><span class="token punctuation">(</span><span class="token variable">$image</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测上传文件大小
 * @access public
 * @param  integer   $size最大大小
 * @return bool
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkSize</span><span class="token punctuation">(</span><span class="token variable">$size</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测上传文件类型
 * @access public
 * @param  array|string   $mime允许类型
 * @return bool
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkMime</span><span class="token punctuation">(</span><span class="token variable">$mime</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 移动文件
 * @access public
 * @param  string   $path保存路径
 * @param  string|bool  $savename保存的文件名 默认自动生成
 * @param  boolean  $replace 同名文件是否覆盖
 * @return false|File   false-失败 否则返回File实例
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">,</span> <span class="token variable">$savename</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span> <span class="token variable">$replace</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取保存文件名
 * @access public
 * @param  string|bool   $savename保存的文件名 默认自动生成
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildSaveName</span><span class="token punctuation">(</span><span class="token variable">$savename</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取错误代码信息
 * @access public
 * @param  int $errorNo  错误号
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$errorNo</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取错误信息（支持多语言）
 * @access public
 * @return string
 */</span>
File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__call</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rewind</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">valid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fgets</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fgetcsv</span><span class="token punctuation">(</span><span class="token variable">$delimiter</span><span class="token punctuation">,</span> <span class="token variable">$enclosure</span><span class="token punctuation">,</span> <span class="token variable">$escape</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fputcsv</span><span class="token punctuation">(</span><span class="token variable">$fields</span><span class="token punctuation">,</span> <span class="token variable">$delimiter</span><span class="token punctuation">,</span> <span class="token variable">$enclosure</span><span class="token punctuation">,</span> <span class="token variable">$escape</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setCsvControl</span><span class="token punctuation">(</span><span class="token variable">$delimiter</span><span class="token punctuation">,</span> <span class="token variable">$enclosure</span><span class="token punctuation">,</span> <span class="token variable">$escape</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCsvControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flock</span><span class="token punctuation">(</span><span class="token variable">$operation</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token variable">$wouldblock</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fflush</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ftell</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fseek</span><span class="token punctuation">(</span><span class="token variable">$pos</span><span class="token punctuation">,</span> <span class="token variable">$whence</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fgetc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fpassthru</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fgetss</span><span class="token punctuation">(</span><span class="token variable">$allowable_tags</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fscanf</span><span class="token punctuation">(</span><span class="token variable">$format</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token variable">$vars</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span> <span class="token variable">$length</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$length</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fstat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ftruncate</span><span class="token punctuation">(</span><span class="token variable">$size</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token variable">$flags</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setMaxLineLen</span><span class="token punctuation">(</span><span class="token variable">$max_len</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMaxLineLen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token variable">$line_pos</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCurrentLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getExtension</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBasename</span><span class="token punctuation">(</span><span class="token variable">$suffix</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPathname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPerms</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getInode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getOwner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getATime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isReadable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isExecutable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getLinkTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFileInfo</span><span class="token punctuation">(</span><span class="token variable">$class_name</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPathInfo</span><span class="token punctuation">(</span><span class="token variable">$class_name</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">openFile</span><span class="token punctuation">(</span><span class="token variable">$open_mode</span><span class="token punctuation">,</span> <span class="token variable">$use_include_path</span><span class="token punctuation">,</span> <span class="token variable">$context</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setFileClass</span><span class="token punctuation">(</span><span class="token variable">$class_name</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setInfoClass</span><span class="token punctuation">(</span><span class="token variable">$class_name</span><span class="token punctuation">)</span>

File<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_bad_state_ex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Hook</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Hook</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 指定入口方法名称
 * @access public
 * @param  string  $name 方法名
 * @return $this
 */</span>
Hook<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">portal</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 指定行为标识 便于调用
 * @access public
 * @param  string|array  $name 行为标识
 * @param  mixed $behavior 行为
 * @return $this
 */</span>
Hook<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$behavior</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 动态添加行为扩展到某个标签
 * @access public
 * @param  string$tag 标签名称
 * @param  mixed $behavior 行为名称
 * @param  bool  $first 是否放到开头执行
 * @return void
 */</span>
Hook<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token variable">$tag</span><span class="token punctuation">,</span> <span class="token variable">$behavior</span><span class="token punctuation">,</span> <span class="token variable">$first</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 批量导入插件
 * @access public
 * @param  array $tags 插件信息
 * @param  bool  $recursive 是否递归合并
 * @return void
 */</span>
Hook<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token variable">$tags</span><span class="token punctuation">,</span> <span class="token variable">$recursive</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取插件信息
 * @access public
 * @param  string $tag 插件位置 留空获取全部
 * @return array
 */</span>
Hook<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$tag</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 监听标签的行为
 * @access public
 * @param  string $tag标签名称
 * @param  mixed  $params 传入参数
 * @param  bool   $once   只获取一个有效返回值
 * @return mixed
 */</span>
Hook<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token variable">$tag</span><span class="token punctuation">,</span> <span class="token variable">$params</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$once</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 执行行为
 * @access public
 * @param  mixed $class  行为
 * @param  mixed $params 参数
 * @return mixed
 */</span>
Hook<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">,</span> <span class="token variable">$params</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 执行某个标签的行为
 * @access protected
 * @param  mixed $class  要执行的行为
 * @param  string$tag方法名（标签名）
 * @param  mixed $params 参数
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">execTag</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">,</span> <span class="token variable">$tag</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$params</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Lang</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Lang</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Lang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token variable">$range</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置语言定义(不区分大小写)
 * @access public
 * @param  string|array  $name 语言变量
 * @param  string$value 语言值
 * @param  string$range 语言作用域
 * @return mixed
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$range</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 加载语言定义(不区分大小写)
 * @access public
 * @param  string|array  $file   语言文件
 * @param  string$range  语言作用域
 * @return array
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$range</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取语言定义(不区分大小写)
 * @access public
 * @param  string|null   $name 语言变量
 * @param  string$range 语言作用域
 * @return bool
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$range</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取语言定义(不区分大小写)
 * @access public
 * @param  string|null   $name 语言变量
 * @param  array $vars 变量替换
 * @param  string$range 语言作用域
 * @return mixed
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$range</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动侦测设置获取语言选择
 * @access public
 * @return string
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">detect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置当前语言到Cookie
 * @access public
 * @param  string $lang 语言
 * @return void
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">saveToCookie</span><span class="token punctuation">(</span><span class="token variable">$lang</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置语言自动侦测的变量
 * @access public
 * @param  string $var 变量名称
 * @return void
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setLangDetectVar</span><span class="token punctuation">(</span><span class="token variable">$var</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置语言的cookie保存变量
 * @access public
 * @param  string $var 变量名称
 * @return void
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setLangCookieVar</span><span class="token punctuation">(</span><span class="token variable">$var</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置允许的语言列表
 * @access public
 * @param  array $list 语言列表
 * @return void
 */</span>
Lang<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAllowLangList</span><span class="token punctuation">(</span><span class="token variable">$list</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Loader</p><div class="language-php extra-class"><pre class="language-php"><code>Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token variable">$autoload</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">autoload</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查找文件
 * @access private
 * @param  string $class
 * @return string|false
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">findFile</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">)</span>

Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addClassMap</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">,</span> <span class="token variable">$map</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addNamespace</span><span class="token punctuation">(</span><span class="token variable">$namespace</span><span class="token punctuation">,</span> <span class="token variable">$path</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addPsr0</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">,</span> <span class="token variable">$paths</span><span class="token punctuation">,</span> <span class="token variable">$prepend</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addPsr4</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">,</span> <span class="token variable">$paths</span><span class="token punctuation">,</span> <span class="token variable">$prepend</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addAutoLoadDir</span><span class="token punctuation">(</span><span class="token variable">$path</span><span class="token punctuation">)</span>

Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">addClassAlias</span><span class="token punctuation">(</span><span class="token variable">$alias</span><span class="token punctuation">,</span> <span class="token variable">$class</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">registerComposerLoader</span><span class="token punctuation">(</span><span class="token variable">$composerPath</span><span class="token punctuation">)</span>

Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">loadComposerAutoloadFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 字符串命名风格转换
 * type 0 将Java风格转换为C的风格 1 将C风格转换为Java的风格
 * @access public
 * @param  string  $name 字符串
 * @param  integer $type 转换类型
 * @param  bool$ucfirst 首字母是否大写（驼峰规则）
 * @return string
 */</span>
Loader<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">parseName</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">$ucfirst</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Log</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Log</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 日志初始化
 * @access public
 * @param  array $config
 * @return $this
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取日志信息
 * @access public
 * @param  string $type 信息类型
 * @return array
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getLog</span><span class="token punctuation">(</span><span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录日志信息
 * @access public
 * @param  mixed  $msg   日志信息
 * @param  string $type  日志级别
 * @param  array  $context   替换内容
 * @return $this
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">record</span><span class="token punctuation">(</span><span class="token variable">$msg</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'info'</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 清空日志信息
 * @access public
 * @return $this
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前日志记录的授权key
 * @access public
 * @param  string  $key  授权key
 * @return $this
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查日志写入权限
 * @access public
 * @param  array  $config  当前日志配置参数
 * @return bool
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$config</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 保存调试信息
 * @access public
 * @return bool
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 实时写入日志信息 并支持行为
 * @access public
 * @param  mixed  $msg   调试信息
 * @param  string $type  日志级别
 * @param  bool   $force 是否强制写入
 * @return bool
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token variable">$msg</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'info'</span><span class="token punctuation">,</span> <span class="token variable">$force</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录日志信息
 * @access public
 * @param  string $level 日志级别
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token variable">$level</span><span class="token punctuation">,</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录emergency信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">emergency</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录警报信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录紧急情况
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">critical</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录错误信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录warning信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录notice信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">notice</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录一般信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录调试信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 记录sql信息
 * @access public
 * @param  mixed  $message   日志信息
 * @param  array  $context   替换内容
 * @return void
 */</span>
Log<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sql</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Model</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Model</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 获取当前模型名称
 * @access public
 * @return string
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建新的模型实例
 * @access public
 * @param  array|object $data 数据
 * @param  bool $isUpdate 是否为更新
 * @param  mixed$where 更新条件
 * @return Model
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$isUpdate</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$where</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建模型的查询对象
 * @access protected
 * @return Query
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前模型的数据库查询对象
 * @access public
 * @param  Query $query 查询对象实例
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setQuery</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前模型的数据库查询对象
 * @access public
 * @param  bool $useBaseQuery 是否调用全局查询范围
 * @return Query
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">db</span><span class="token punctuation">(</span><span class="token variable">$useBaseQuery</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 *  初始化模型
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 初始化处理
 * @access protected
 * @return void
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 数据自动完成
 * @access protected
 * @param  array $auto 要自动更新的字段列表
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">autoCompleteData</span><span class="token punctuation">(</span><span class="token variable">$auto</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 更新是否强制写入数据 而不做比较
 * @access public
 * @param  bool $force
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">force</span><span class="token punctuation">(</span><span class="token variable">$force</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 保存当前数据对象
 * @access public
 * @param  array  $data 数据
 * @param  array  $where更新条件
 * @param  string $sequence 自增序列名
 * @return integer|false
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$where</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$sequence</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 写入之前检查数据
 * @access protected
 * @param  array   $data  数据
 * @param  array   $where 保存条件
 * @return bool
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkBeforeSave</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$where</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查数据是否允许写入
 * @access protected
 * @param  array   $autoFields 自动完成的字段列表
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkAllowFields</span><span class="token punctuation">(</span><span class="token variable">$append</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 保存写入数据
 * @access protected
 * @param  array   $where 保存条件
 * @return int|false
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">updateData</span><span class="token punctuation">(</span><span class="token variable">$where</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 新增写入数据
 * @access protected
 * @param  string   $sequence 自增名
 * @return int|false
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insertData</span><span class="token punctuation">(</span><span class="token variable">$sequence</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 字段值(延迟)增长
 * @access public
 * @param  string  $field字段名
 * @param  integer $step 增长值
 * @param  integer $lazyTime 延时时间(s)
 * @return integer|true
 * @throws Exception
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setInc</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$step</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$lazyTime</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 字段值(延迟)增长
 * @access public
 * @param  string  $field字段名
 * @param  integer $step 增长值
 * @param  integer $lazyTime 延时时间(s)
 * @return integer|true
 * @throws Exception
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setDec</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$step</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$lazyTime</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前的更新条件
 * @access protected
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getWhere</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 保存多个数据到当前数据对象
 * @access public
 * @param  array   $dataSet 数据
 * @param  boolean $replace 是否自动识别更新和写入
 * @return Collection
 * @throws \Exception
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">saveAll</span><span class="token punctuation">(</span><span class="token variable">$dataSet</span><span class="token punctuation">,</span> <span class="token variable">$replace</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为更新数据
 * @access public
 * @param  mixed  $update
 * @param  mixed  $where
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isUpdate</span><span class="token punctuation">(</span><span class="token variable">$update</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span> <span class="token variable">$where</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 删除当前的记录
 * @access public
 * @return integer
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置自动完成的字段（ 规则通过修改器定义）
 * @access public
 * @param  array $fields 需要自动完成的字段
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">auto</span><span class="token punctuation">(</span><span class="token variable">$fields</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 写入数据
 * @access public
 * @param  array  $data  数据数组
 * @param  array|true $field 允许字段
 * @return static
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$field</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 更新数据
 * @access public
 * @param  array  $data  数据数组
 * @param  array  $where 更新条件
 * @param  array|true $field 允许字段
 * @return static
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$where</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$field</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查找单条记录
 * @access public
 * @param  mixed $data  主键值或者查询条件（闭包）
 * @param  mixed $with  关联预查询
 * @param  bool  $cache 是否缓存
 * @param  bool  $failException 是否抛出异常
 * @return static|null
 * @throws exception\DbException
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$with</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$cache</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$failException</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查找单条记录 如果不存在直接抛出异常
 * @access public
 * @param  mixed $data  主键值或者查询条件（闭包）
 * @param  mixed $with  关联预查询
 * @param  bool  $cache 是否缓存
 * @return static|null
 * @throws exception\DbException
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getOrFail</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$with</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$cache</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查找所有记录
 * @access public
 * @param  mixed$data  主键列表或者查询条件（闭包）
 * @param  array|string $with  关联预查询
 * @param  bool $cache 是否缓存
 * @return static[]|false
 * @throws exception\DbException
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$with</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$cache</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 分析查询表达式
 * @access public
 * @param  mixed  $data  主键列表或者查询条件（闭包）
 * @param  string $with  关联预查询
 * @param  bool   $cache 是否缓存
 * @return Query
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">parseQuery</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$with</span><span class="token punctuation">,</span> <span class="token variable">$cache</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 删除记录
 * @access public
 * @param  mixed $data 主键列表 支持闭包查询条件
 * @return integer 成功删除的记录数
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取错误信息
 * @access public
 * @return mixed
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解序列化后处理
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__debugInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 修改器 设置数据对象的值
 * @access public
 * @param  string $name  名称
 * @param  mixed  $value 值
 * @return void
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取器 获取数据对象的值
 * @access public
 * @param  string $name 名称
 * @return mixed
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__get</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测数据对象的值
 * @access public
 * @param  string $name 名称
 * @return boolean
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__isset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 销毁数据对象的值
 * @access public
 * @param  string $name 名称
 * @return void
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__unset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetSet</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetExists</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetUnset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetGet</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置是否使用全局查询范围
 * @access public
 * @param  bool $use 是否启用全局查询范围
 * @return Query
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">useGlobalScope</span><span class="token punctuation">(</span><span class="token variable">$use</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__call</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>

Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">__callStatic</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取模型对象的主键
 * @access public
 * @return string|array
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPk</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 判断一个字段名是否为主键字段
 * @access public
 * @param  string $key 名称
 * @return bool
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isPk</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置允许写入的字段
 * @access public
 * @param  array|string|true $field 允许写入的字段 如果为true只允许写入数据表字段
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">allowField</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置只读字段
 * @access public
 * @param  array|string $field 只读字段
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">readonly</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置数据对象值
 * @access public
 * @param  mixed $data  数据或者属性名
 * @param  mixed $value 值
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 批量设置数据对象值
 * @access public
 * @param  mixed $data  数据
 * @param  bool  $set   是否需要进行数据处理
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">appendData</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$set</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取对象原始数据 如果不存在指定字段返回null
 * @access public
 * @param  string $name 字段名 留空获取全部
 * @return mixed
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getOrigin</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取对象原始数据 如果不存在指定字段返回false
 * @access public
 * @param  string $name 字段名 留空获取全部
 * @return mixed
 * @throws InvalidArgumentException
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取变化的数据 并排除只读数据
 * @access public
 * @return array
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getChangedData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 修改器 设置数据对象值
 * @access public
 * @param  string $name  属性名
 * @param  mixed  $value 属性值
 * @param  array  $data  数据
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAttr</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否需要自动写入时间字段
 * @access public
 * @param  bool $auto
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isAutoWriteTimestamp</span><span class="token punctuation">(</span><span class="token variable">$auto</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动写入时间戳
 * @access protected
 * @param  string $name 时间戳字段
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">autoWriteTimestamp</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 数据写入 类型转换
 * @access protected
 * @param  mixed$value 值
 * @param  string|array $type  要转换的类型
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">writeTransform</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$type</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取器 获取数据对象的值
 * @access public
 * @param  string $name 名称
 * @param  array  $item 数据
 * @return mixed
 * @throws InvalidArgumentException
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getAttr</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token variable">$item</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 数据读取 类型转换
 * @access protected
 * @param  mixed$value 值
 * @param  string|array $type  要转换的类型
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">readTransform</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$type</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置父关联对象
 * @access public
 * @param  Model $model  模型对象
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取父关联对象
 * @access public
 * @return Model
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前模型的关联模型数据
 * @access public
 * @param  string $name 关联方法名
 * @return mixed
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRelation</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置关联数据对象值
 * @access public
 * @param  string $name  属性名
 * @param  mixed  $value 属性值
 * @param  array  $data  数据
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setRelation</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 关联数据写入
 * @access public
 * @param  array|string $relation 关联
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">together</span><span class="token punctuation">(</span><span class="token variable">$relation</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 根据关联条件查询当前模型
 * @access public
 * @param  string  $relation 关联方法名
 * @param  mixed   $operator 比较操作符
 * @param  integer $count个数
 * @param  string  $id   关联表的统计字段
 * @return Query
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$relation</span><span class="token punctuation">,</span> <span class="token variable">$operator</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'&gt;='</span><span class="token punctuation">,</span> <span class="token variable">$count</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$id</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 根据关联条件查询当前模型
 * @access public
 * @param  string $relation 关联方法名
 * @param  mixed  $where查询条件（数组或者闭包）
 * @param  mixed  $fields   字段
 * @return Query
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">hasWhere</span><span class="token punctuation">(</span><span class="token variable">$relation</span><span class="token punctuation">,</span> <span class="token variable">$where</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$fields</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 查询当前模型的关联数据
 * @access public
 * @param  string|array $relations 关联名
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">relationQuery</span><span class="token punctuation">(</span><span class="token variable">$relations</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 预载入关联查询 返回数据集
 * @access public
 * @param  array  $resultSet 数据集
 * @param  string $relation  关联名
 * @return array
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eagerlyResultSet</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$resultSet</span><span class="token punctuation">,</span> <span class="token variable">$relation</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 预载入关联查询 返回模型对象
 * @access public
 * @param  Model  $result   数据对象
 * @param  string $relation 关联名
 * @return Model
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eagerlyResult</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token variable">$relation</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 关联统计
 * @access public
 * @param  Model$result 数据对象
 * @param  array$relations  关联名
 * @param  string   $aggregate  聚合查询方法
 * @param  string   $field  字段
 * @return void
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">relationCount</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token variable">$relations</span><span class="token punctuation">,</span> <span class="token variable">$aggregate</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'sum'</span><span class="token punctuation">,</span> <span class="token variable">$field</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * HAS ONE 关联定义
 * @access public
 * @param  string $model  模型名
 * @param  string $foreignKey 关联外键
 * @param  string $localKey   当前主键
 * @return HasOne
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasOne</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">,</span> <span class="token variable">$foreignKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$localKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * BELONGS TO 关联定义
 * @access public
 * @param  string $model  模型名
 * @param  string $foreignKey 关联外键
 * @param  string $localKey   关联主键
 * @return BelongsTo
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">belongsTo</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">,</span> <span class="token variable">$foreignKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$localKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * HAS MANY 关联定义
 * @access public
 * @param  string $model  模型名
 * @param  string $foreignKey 关联外键
 * @param  string $localKey   当前主键
 * @return HasMany
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasMany</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">,</span> <span class="token variable">$foreignKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$localKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * HAS MANY 远程关联定义
 * @access public
 * @param  string $model  模型名
 * @param  string $through中间模型名
 * @param  string $foreignKey 关联外键
 * @param  string $throughKey 关联外键
 * @param  string $localKey   当前主键
 * @return HasManyThrough
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasManyThrough</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">,</span> <span class="token variable">$through</span><span class="token punctuation">,</span> <span class="token variable">$foreignKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$throughKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$localKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * BELONGS TO MANY 关联定义
 * @access public
 * @param  string $model  模型名
 * @param  string $table  中间表名
 * @param  string $foreignKey 关联外键
 * @param  string $localKey   当前模型关联键
 * @return BelongsToMany
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">belongsToMany</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">,</span> <span class="token variable">$table</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$foreignKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$localKey</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * MORPH  One 关联定义
 * @access public
 * @param  string   $model 模型名
 * @param  string|array $morph 多态字段信息
 * @param  string   $type  多态类型
 * @return MorphOne
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">morphOne</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">,</span> <span class="token variable">$morph</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * MORPH  MANY 关联定义
 * @access public
 * @param  string   $model 模型名
 * @param  string|array $morph 多态字段信息
 * @param  string   $type  多态类型
 * @return MorphMany
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">morphMany</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">,</span> <span class="token variable">$morph</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * MORPH TO 关联定义
 * @access public
 * @param  string|array $morph 多态字段信息
 * @param  array$alias 多态别名定义
 * @return MorphTo
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">morphTo</span><span class="token punctuation">(</span><span class="token variable">$morph</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$alias</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析模型的完整命名空间
 * @access protected
 * @param  string $model 模型名（或者完整类名）
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseModel</span><span class="token punctuation">(</span><span class="token variable">$model</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取模型的默认外键名
 * @access protected
 * @param  string $name 模型名
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getForeignKey</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查属性是否为关联属性 如果是则返回关联方法名
 * @access protected
 * @param  string $attr 关联属性名
 * @return string|false
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isRelationAttr</span><span class="token punctuation">(</span><span class="token variable">$attr</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 智能获取关联模型数据
 * @access protected
 * @param  Relation  $modelRelation 模型关联对象
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRelationData</span><span class="token punctuation">(</span><span class="token variable">$modelRelation</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 关联数据自动写入检查
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkAutoRelationWrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动关联数据更新（针对一对一关联）
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">autoRelationUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动关联数据写入（针对一对一关联）
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">autoRelationInsert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动关联数据删除（支持一对一及一对多关联）
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">autoRelationDelete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册回调方法
 * @access public
 * @param  string   $event事件名
 * @param  callable $callback 回调方法
 * @param  bool $override 是否覆盖
 * @return void
 */</span>
Model<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">event</span><span class="token punctuation">(</span><span class="token variable">$event</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 触发事件
 * @access protected
 * @param  string $event  事件名
 * @return bool
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token variable">$event</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型before_insert事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">beforeInsert</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型after_insert事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">afterInsert</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型before_update事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型after_update事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">afterUpdate</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型before_write事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">beforeWrite</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型after_write事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">afterWrite</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型before_delete事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">beforeDelete</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模型after_delete事件快捷方法
 * @access protected
 * @param callable  $callback
 * @param bool  $override
 */</span>
self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">afterDelete</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 时间日期字段格式化处理
 * @access protected
 * @param  mixed $time  时间日期表达式
 * @param  mixed $format日期格式
 * @param  bool  $timestamp 是否进行时间戳转换
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">formatDateTime</span><span class="token punctuation">(</span><span class="token variable">$time</span><span class="token punctuation">,</span> <span class="token variable">$format</span><span class="token punctuation">,</span> <span class="token variable">$timestamp</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查时间字段写入
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkTimeStampWrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置需要附加的输出属性
 * @access public
 * @param  array $append   属性列表
 * @param  bool  $override 是否覆盖
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token variable">$append</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置附加关联对象的属性
 * @access public
 * @param  string   $attr关联属性
 * @param  string|array $append  追加属性名
 * @return $this
 * @throws Exception
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">appendRelationAttr</span><span class="token punctuation">(</span><span class="token variable">$attr</span><span class="token punctuation">,</span> <span class="token variable">$append</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置需要隐藏的输出属性
 * @access public
 * @param  array $hidden   属性列表
 * @param  bool  $override 是否覆盖
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hidden</span><span class="token punctuation">(</span><span class="token variable">$hidden</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置需要输出的属性
 * @access public
 * @param  array $visible
 * @param  bool  $override 是否覆盖
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visible</span><span class="token punctuation">(</span><span class="token variable">$visible</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$override</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 转换当前模型对象为数组
 * @access public
 * @return array
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 转换当前模型对象为JSON字符串
 * @access public
 * @param  integer $options json参数
 * @return string
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 移除当前模型的关联属性
 * @access public
 * @return $this
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">removeRelation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">jsonSerialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 转换数据集为数据集对象
 * @access public
 * @param  array|Collection $collection 数据集
 * @param  string   $resultSetType 数据集类
 * @return Collection
 */</span>
Model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token variable">$collection</span><span class="token punctuation">,</span> <span class="token variable">$resultSetType</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析隐藏及显示属性
 * @access protected
 * @param  array $attrs  属性
 * @param  array $result 结果集
 * @param  bool  $visible
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseAttr</span><span class="token punctuation">(</span><span class="token variable">$attrs</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token variable">$result</span><span class="token punctuation">,</span> <span class="token variable">$visible</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span> 
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Paginator</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Paginator</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Paginator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @access public
 * @param   $items
 * @param   $listRows
 * @param null  $currentPage
 * @param bool  $simple
 * @param null  $total
 * @param array $options
 * @return Paginator
 */</span>
Paginator<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$items</span><span class="token punctuation">,</span> <span class="token variable">$listRows</span><span class="token punctuation">,</span> <span class="token variable">$currentPage</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$total</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$simple</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setCurrentPage</span><span class="token punctuation">(</span><span class="token variable">$currentPage</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取页码对应的链接
 *
 * @access protected
 * @param  $page
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动获取当前页码
 * @access public
 * @param  string $varPage
 * @param  int$default
 * @return int
 */</span>
Paginator<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getCurrentPage</span><span class="token punctuation">(</span><span class="token variable">$varPage</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'page'</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 自动获取当前的path
 * @access public
 * @return string
 */</span>
Paginator<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getCurrentPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">listRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lastPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 数据是否足够分页
 * @access public
 * @return boolean
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建一组分页链接
 *
 * @access public
 * @param  int $start
 * @param  int $end
 * @return array
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getUrlRange</span><span class="token punctuation">(</span><span class="token variable">$start</span><span class="token punctuation">,</span> <span class="token variable">$end</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置URL锚点
 *
 * @access public
 * @param  string|null $fragment
 * @return $this
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fragment</span><span class="token punctuation">(</span><span class="token variable">$fragment</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 添加URL参数
 *
 * @access public
 * @param  array|string $key
 * @param  string|null  $value
 * @return $this
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">appends</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 构造锚点字符串
 *
 * @access public
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 渲染分页html
 * @access public
 * @return mixed
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">items</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 给每个元素执行个回调
 *
 * @access public
 * @param  callable $callback
 * @return $this
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Retrieve an external iterator
 * @access public
 * @return Traversable An instance of an object implementing &lt;b&gt;Iterator&lt;/b&gt; or
 * &lt;b&gt;Traversable&lt;/b&gt;
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Whether a offset exists
 * @access public
 * @param  mixed $offset
 * @return bool
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetExists</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Offset to retrieve
 * @access public
 * @param  mixed $offset
 * @return mixed
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetGet</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Offset to set
 * @access public
 * @param  mixed $offset
 * @param  mixed $value
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetSet</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Offset to unset
 * @access public
 * @param  mixed $offset
 * @return void
 * @since  5.0.0
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">offsetUnset</span><span class="token punctuation">(</span><span class="token variable">$offset</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Count elements of an object
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Specify data which should be serialized to JSON
 */</span>
Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">jsonSerialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Paginator<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__call</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$arguments</span><span class="token punctuation">)</span> 
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Process</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Process</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 运行指令
 * @access public
 * @param  callback|null $callback
 * @return int
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 运行指令
 * @access public
 * @param  callable|null $callback
 * @return self
 * @throws \RuntimeException
 * @throws ProcessFailedException
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mustRun</span><span class="token punctuation">(</span><span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 启动进程并写到 STDIN 输入后返回。
 * @access public
 * @param  callable|null $callback
 * @throws \RuntimeException
 * @throws \RuntimeException
 * @throws \LogicException
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 重启进程
 * @access public
 * @param  callable|null $callback
 * @return Process
 * @throws \RuntimeException
 * @throws \RuntimeException
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">restart</span><span class="token punctuation">(</span><span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 等待要终止的进程
 * @access public
 * @param  callable|null $callback
 * @return int
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取PID
 * @access public
 * @return int|null
 * @throws \RuntimeException
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 将一个 POSIX 信号发送到进程中
 * @access public
 * @param  int $signal
 * @return Process
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">signal</span><span class="token punctuation">(</span><span class="token variable">$signal</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 禁用从底层过程获取输出和错误输出。
 * @access public
 * @return Process
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">disableOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 开启从底层过程获取输出和错误输出。
 * @access public
 * @return Process
 * @throws \RuntimeException
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">enableOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 输出是否禁用
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isOutputDisabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前的输出管道
 * @access public
 * @return string
 * @throws \LogicException
 * @api
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 以增量方式返回的输出结果。
 * @access public
 * @return string
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getIncrementalOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 清空输出
 * @access public
 * @return Process
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clearOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回当前的错误输出的过程 (STDERR)。
 * @access public
 * @return string
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getErrorOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 以增量方式返回 errorOutput
 * @access public
 * @return string
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getIncrementalErrorOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 清空 errorOutput
 * @access public
 * @return Process
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clearErrorOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取退出码
 * @access public
 * @return null|int
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getExitCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取退出文本
 * @access public
 * @return null|string
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getExitCodeText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查是否成功
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否未捕获的信号已被终止子进程
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasBeenSignaled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回导致子进程终止其执行的数。
 * @access public
 * @return int
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTermSignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查子进程信号是否已停止
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasBeenStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回导致子进程停止其执行的数。
 * @access public
 * @return int
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStopSignal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查是否正在运行
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查是否已开始
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isStarted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查是否已终止
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isTerminated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前的状态
 * @access public
 * @return string
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 终止进程
 * @access public
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 添加一行输出
 * @access public
 * @param string $line
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addOutput</span><span class="token punctuation">(</span><span class="token variable">$line</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 添加一行错误输出
 * @access public
 * @param string $line
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addErrorOutput</span><span class="token punctuation">(</span><span class="token variable">$line</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取被执行的指令
 * @access public
 * @return string
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCommandLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置指令
 * @access public
 * @param string $commandline
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setCommandLine</span><span class="token punctuation">(</span><span class="token variable">$commandline</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取超时时间
 * @access public
 * @return float|null
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取idle超时时间
 * @access public
 * @return float|null
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getIdleTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置超时时间
 * @access public
 * @param  int|float|null $timeout
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token variable">$timeout</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置idle超时时间
 * @access public
 * @param  int|float|null $timeout
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setIdleTimeout</span><span class="token punctuation">(</span><span class="token variable">$timeout</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置TTY
 * @access public
 * @param  bool $tty
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setTty</span><span class="token punctuation">(</span><span class="token variable">$tty</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查是否是tty模式
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isTty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置pty模式
 * @access public
 * @param  bool $bool
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setPty</span><span class="token punctuation">(</span><span class="token variable">$bool</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否是pty模式
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isPty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取工作目录
 * @access public
 * @return string|null
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getWorkingDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置工作目录
 * @access public
 * @param  string $cwd
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setWorkingDirectory</span><span class="token punctuation">(</span><span class="token variable">$cwd</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取环境变量
 * @access public
 * @return array
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getEnv</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置环境变量
 * @access public
 * @param  array $env
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setEnv</span><span class="token punctuation">(</span><span class="token variable">$env</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取输入
 * @access public
 * @return null|string
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置输入
 * @access public
 * @param  mixed $input
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setInput</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取proc_open的选项
 * @access public
 * @return array
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置proc_open的选项
 * @access public
 * @param  array $options
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token variable">$options</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否兼容windows
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getEnhanceWindowsCompatibility</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置是否兼容windows
 * @access public
 * @param  bool $enhance
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setEnhanceWindowsCompatibility</span><span class="token punctuation">(</span><span class="token variable">$enhance</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 返回是否 sigchild 兼容模式激活
 * @access public
 * @return bool
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getEnhanceSigchildCompatibility</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 激活 sigchild 兼容性模式。
 * @access public
 * @param  bool $enhance
 * @return self
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setEnhanceSigchildCompatibility</span><span class="token punctuation">(</span><span class="token variable">$enhance</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否超时
 */</span>
Process<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否支持pty
 * @access public
 * @return bool
 */</span>
Process<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">isPtySupported</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建所需的 proc_open 的描述符
 * @access private
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getDescriptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 建立 wait () 使用的回调。
 * @access protected
 * @param  callable|null $callback
 * @return callable
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">buildCallback</span><span class="token punctuation">(</span><span class="token variable">$callback</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 更新状态
 * @access protected
 * @param bool $blocking
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">updateStatus</span><span class="token punctuation">(</span><span class="token variable">$blocking</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否开启 '--enable-sigchild'
 * @access protected
 * @return bool
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isSigchildEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否超时
 * @access private
 * @param  int|float|null $timeout
 * @return float|null
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">validateTimeout</span><span class="token punctuation">(</span><span class="token variable">$timeout</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 读取pipes
 * @access private
 * @param  bool $blocking
 * @param  bool $close
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">readPipes</span><span class="token punctuation">(</span><span class="token variable">$blocking</span><span class="token punctuation">,</span> <span class="token variable">$close</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 捕获退出码
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">captureExitCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 关闭资源
 * @access private
 * @return int 退出码
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 重置数据
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">resetProcessData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 将一个 POSIX 信号发送到进程中。
 * @access private
 * @param  int  $signal
 * @param  bool $throwException
 * @return bool
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">doSignal</span><span class="token punctuation">(</span><span class="token variable">$signal</span><span class="token punctuation">,</span> <span class="token variable">$throwException</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 确保进程已经开启
 * @access private
 * @param  string $functionName
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">requireProcessIsStarted</span><span class="token punctuation">(</span><span class="token variable">$functionName</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 确保进程已经终止
 * @access private
 * @param  string $functionName
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">requireProcessIsTerminated</span><span class="token punctuation">(</span><span class="token variable">$functionName</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Request</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Request</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__call</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Hook 方法注入
 * @access public
 * @param  string|array  $method 方法名
 * @param  mixed $callback callable
 * @return void
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hook</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建一个URL请求
 * @access public
 * @param  string$uri URL地址
 * @param  string$method 请求类型
 * @param  array $params 请求参数
 * @param  array $cookie
 * @param  array $files
 * @param  array $server
 * @param  string$content
 * @return \think\Request
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$method</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'GET'</span><span class="token punctuation">,</span> <span class="token variable">$params</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$cookie</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$files</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$server</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或获取当前包含协议的域名
 * @access public
 * @param  string $domain 域名
 * @return string|$this
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前子域名
 * @access public
 * @return string|$this
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">subDomain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或获取当前泛域名的值
 * @access public
 * @param  string $domain 域名
 * @return string|$this
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">panDomain</span><span class="token punctuation">(</span><span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或获取当前完整URL 包括QUERY_STRING
 * @access public
 * @param  string|true $url URL地址 true 带域名获取
 * @return string|$this
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或获取当前URL 不含QUERY_STRING
 * @access public
 * @param  string $url URL地址
 * @return string|$this
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或获取当前执行的文件 SCRIPT_NAME
 * @access public
 * @param  string $file 当前执行的文件
 * @return string|$this
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">baseFile</span><span class="token punctuation">(</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或获取URL访问根地址
 * @access public
 * @param  string $url URL地址
 * @return string|$this
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">root</span><span class="token punctuation">(</span><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取URL访问根目录
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rootUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前请求URL的pathinfo信息（含URL后缀）
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pathinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前请求URL的pathinfo信息(不含URL后缀)
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前URL的访问后缀
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前请求的时间
 * @access public
 * @param  bool $float 是否使用浮点类型
 * @return integer|float
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token variable">$float</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前请求的资源类型
 * @access public
 * @return false|string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置资源类型
 * @access public
 * @param  string|array  $type 资源类型名
 * @param  string$val 资源类型
 * @return void
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mimeType</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$val</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前的请求类型
 * @access public
 * @param  bool $method  true 获取原始请求类型
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token variable">$method</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为GET请求
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为POST请求
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为PUT请求
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isPut</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为DELTE请求
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isDelete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为HEAD请求
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为PATCH请求
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isPatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为OPTIONS请求
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为cli
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isCli</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否为cgi
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isCgi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前请求的参数
 * @access public
 * @param  mixed $name 变量名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置获取路由参数
 * @access public
 * @param  mixed $name 变量名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置获取GET参数
 * @access public
 * @param  mixed $name 变量名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置获取POST参数
 * @access public
 * @param  mixed $name 变量名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置获取PUT参数
 * @access public
 * @param  mixed $name 变量名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置获取DELETE参数
 * @access public
 * @param  mixed $name 变量名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置获取PATCH参数
 * @access public
 * @param  mixed $name 变量名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取request变量
 * @access public
 * @param  mixed $name 数据名称
 * @param  string$default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取session数据
 * @access public
 * @param  mixed $name 数据名称
 * @param  string$default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取cookie参数
 * @access public
 * @param  mixed $name 数据名称
 * @param  string$default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取server参数
 * @access public
 * @param  mixed $name 数据名称
 * @param  string$default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">server</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取上传的文件信息
 * @access public
 * @param  string|array $name 名称
 * @return null|array|\think\File
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取环境变量
 * @access public
 * @param  mixed $name 数据名称
 * @param  string$default 默认值
 * @param  string|array  $filter 过滤方法
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取当前的Header
 * @access public
 * @param  string|array  $name header名称
 * @param  string$default 默认值
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取变量 支持过滤和默认值
 * @access public
 * @param  array $data 数据源
 * @param  string|false  $name 字段名
 * @param  mixed $default 默认值
 * @param  string|array  $filter 过滤函数
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$default</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或获取当前的过滤规则
 * @access public
 * @param  mixed $filter 过滤规则
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token variable">$filter</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilter</span><span class="token punctuation">(</span><span class="token variable">$filter</span><span class="token punctuation">,</span> <span class="token variable">$default</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 递归过滤给定的值
 * @access public
 * @param  mixed $value 键值
 * @param  mixed $key 键名
 * @param  array $filters 过滤方法+默认值
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filterValue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$filters</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 强制类型转换
 * @access public
 * @param  string $data
 * @param  string $type
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">typeCast</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$type</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否存在某个请求参数
 * @access public
 * @param  string$name 变量名
 * @param  string$type 变量类型
 * @param  bool  $checkEmpty 是否检测空值
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'param'</span><span class="token punctuation">,</span> <span class="token variable">$checkEmpty</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取指定的参数
 * @access public
 * @param  string|array  $name 变量名
 * @param  string$type 变量类型
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">only</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'param'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 排除指定参数获取
 * @access public
 * @param  string|array  $name 变量名
 * @param  string$type 变量类型
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">except</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'param'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前是否ssl
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isSsl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前是否Ajax请求
 * @access public
 * @param  bool $ajax  true 获取原始ajax请求
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isAjax</span><span class="token punctuation">(</span><span class="token variable">$ajax</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前是否Pjax请求
 * @access public
 * @param  bool $pjax  true 获取原始pjax请求
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isPjax</span><span class="token punctuation">(</span><span class="token variable">$pjax</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取客户端IP地址
 * @access public
 * @param  integer   $type 返回类型 0 返回IP地址 1 返回IPV4地址数字
 * @param  boolean   $adv 是否进行高级模式获取（有可能被伪装）
 * @return mixed
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ip</span><span class="token punctuation">(</span><span class="token variable">$type</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">$adv</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测是否使用手机访问
 * @access public
 * @return bool
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isMobile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前URL地址中的scheme参数
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">scheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前请求URL地址中的query参数
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前请求的host
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">host</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前请求URL地址中的port参数
 * @access public
 * @return integer
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">port</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前请求 SERVER_PROTOCOL
 * @access public
 * @return integer
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">protocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前请求 REMOTE_PORT
 * @access public
 * @return integer
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">remotePort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 当前请求 HTTP_CONTENT_TYPE
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前请求的路由信息
 * @access public
 * @param  array $route 路由名称
 * @return array
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">routeInfo</span><span class="token punctuation">(</span><span class="token variable">$route</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取当前请求的调度信息
 * @access public
 * @param  array  $dispatch 调度信息
 * @return array
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token variable">$dispatch</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取当前的模块名
 * @access public
 * @param  string $module 模块名
 * @return string|Request
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token variable">$module</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取当前的控制器名
 * @access public
 * @param  string $controller 控制器名
 * @return string|Request
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token variable">$controller</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取当前的操作名
 * @access public
 * @param  string $action 操作名
 * @return string|Request
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token variable">$action</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取当前的语言
 * @access public
 * @param  string $lang 语言名
 * @return string|Request
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">langset</span><span class="token punctuation">(</span><span class="token variable">$lang</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置或者获取当前请求的content
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前请求的php://input
 * @access public
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 生成请求令牌
 * @access public
 * @param  string $name 令牌名称
 * @param  mixed  $type 令牌生成方法
 * @return string
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">token</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'__token__'</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'md5'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置当前地址的请求缓存
 * @access public
 * @param  string $key 缓存标识，支持变量规则 ，例如 item/:name/:id
 * @param  mixed  $expire 缓存有效期
 * @param  array  $except 缓存排除
 * @param  string $tag缓存标签
 * @return void
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$expire</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$except</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$tag</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 读取请求缓存设置
 * @access public
 * @return array
 */</span>
Request<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Response</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Response</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 创建Response对象
 * @access public
 * @param  mixed  $data输出数据
 * @param  string $type输出类型
 * @param  int$code
 * @param  array  $header
 * @param  array  $options 输出参数
 * @return Response
 */</span>
Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$code</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$header</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 发送数据到客户端
 * @access public
 * @return void
 * @throws \InvalidArgumentException
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 处理数据
 * @access protected
 * @param  mixed $data 要处理的数据
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 输出数据
 * @access protected
 * @param string $data 要处理的数据
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sendData</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 输出的参数
 * @access public
 * @param  mixed $options 输出参数
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 输出数据设置
 * @access public
 * @param  mixed $data 输出数据
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 是否允许请求缓存
 * @access public
 * @param  bool $cache 允许请求缓存
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">allowCache</span><span class="token punctuation">(</span><span class="token variable">$cache</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置响应头
 * @access public
 * @param  string|array $name  参数名
 * @param  string   $value 参数值
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置页面输出内容
 * @access public
 * @param  mixed $content
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 发送HTTP状态
 * @access public
 * @param  integer $code 状态码
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token variable">$code</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * LastModified
 * @access public
 * @param  string $time
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token variable">$time</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * Expires
 * @access public
 * @param  string $time
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">expires</span><span class="token punctuation">(</span><span class="token variable">$time</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * ETag
 * @access public
 * @param  string $eTag
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eTag</span><span class="token punctuation">(</span><span class="token variable">$eTag</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 页面缓存控制
 * @access public
 * @param  string $cache 状态码
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">cacheControl</span><span class="token punctuation">(</span><span class="token variable">$cache</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 页面输出类型
 * @access public
 * @param  string $contentType 输出类型
 * @param  string $charset 输出编码
 * @return $this
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">contentType</span><span class="token punctuation">(</span><span class="token variable">$contentType</span><span class="token punctuation">,</span> <span class="token variable">$charset</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'utf-8'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取头部信息
 * @access public
 * @param  string $name 头部名称
 * @return mixed
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取原始数据
 * @access public
 * @return mixed
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取输出数据
 * @access public
 * @return mixed
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取状态码
 * @access public
 * @return integer
 */</span>
Response<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Route</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Route</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 初始化默认域名
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setDefaultDomain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 创建一个域名下的顶级路由分组
 * @access protected
 * @param  Domain$domain 域名
 * @return RuleGroup
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createTopGroup</span><span class="token punctuation">(</span><span class="token variable">$domain</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置当前域名
 * @access public
 * @param  RuleGroup$group 域名
 * @return void
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setGroup</span><span class="token punctuation">(</span><span class="token variable">$group</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前分组
 * @access public
 * @return RuleGroup
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册变量规则
 * @access public
 * @param  string|array  $name 变量名
 * @param  string$rule 变量规则
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pattern</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册路由参数
 * @access public
 * @param  string|array  $name  参数名
 * @param  mixed $value 值
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前根域名
 * @access protected
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRootDomain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册域名路由
 * @access public
 * @param  string|array  $name 子域名
 * @param  mixed $rule 路由规则
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return Domain
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析分组和域名的路由规则及绑定
 * @access public
 * @param  RuleGroup$group 分组路由对象
 * @param  mixed$rule 路由规则
 * @return void
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseGroupRule</span><span class="token punctuation">(</span><span class="token variable">$group</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取域名
 * @access public
 * @return array
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getDomains</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置路由绑定
 * @access public
 * @param  string $bind 绑定信息
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token variable">$bind</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 读取路由绑定
 * @access public
 * @param  string$domain 域名
 * @return string|null
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBind</span><span class="token punctuation">(</span><span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置当前路由标识
 * @access public
 * @param  string $name 路由命名标识
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 读取路由标识
 * @access public
 * @param  string$name 路由标识
 * @return mixed
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 批量导入路由标识
 * @access public
 * @param  array$name 路由标识
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 导入配置文件的路由规则
 * @access public
 * @param  array $rules 路由规则
 * @param  string$type  请求类型
 * @return void
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token variable">$rules</span><span class="token punctuation">,</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册路由规则
 * @access public
 * @param  string$rule   路由规则
 * @param  mixed $route  路由地址
 * @param  string$method 请求类型
 * @param  array $option 路由参数
 * @param  array $pattern变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span><span class="token punctuation">,</span> <span class="token variable">$method</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置路由标识 用于URL反解生成
 * @access public
 * @param  string$rule  路由规则
 * @param  string$name  路由标识
 * @param  array $option路由参数
 * @return void
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setRuleName</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置跨域有效路由规则
 * @access public
 * @param  Rule  $rule  路由规则
 * @param  string$method请求类型
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setCrossDomainRule</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$method</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 批量注册路由规则
 * @access public
 * @param  array $rules  路由规则
 * @param  string$method 请求类型
 * @param  array $option 路由参数
 * @param  array $pattern变量规则
 * @return void
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rules</span><span class="token punctuation">(</span><span class="token variable">$rules</span><span class="token punctuation">,</span> <span class="token variable">$method</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册路由分组
 * @access public
 * @param  string|array  $name   分组名称或者参数
 * @param  array|\Closure$route  分组路由
 * @param  array $option 路由参数
 * @param  array $pattern变量规则
 * @return RuleGroup
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$route</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册路由
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册GET路由
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册POST路由
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册PUT路由
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册DELETE路由
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册PATCH路由
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册资源路由
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return Resource
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">resource</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册控制器路由 操作方法对应不同的请求后缀
 * @access public
 * @param  string$rule 路由规则
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @param  array $pattern 变量规则
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册视图路由
 * @access public
 * @param  string|array $rule 路由规则
 * @param  string   $template 路由模板地址
 * @param  array$vars 模板变量
 * @param  array$option 路由参数
 * @param  array$pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$template</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册重定向路由
 * @access public
 * @param  string|array $rule 路由规则
 * @param  string   $template 路由模板地址
 * @param  array$status 状态码
 * @param  array$option 路由参数
 * @param  array$pattern 变量规则
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$status</span> <span class="token operator">=</span> <span class="token number">301</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$pattern</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册别名路由
 * @access public
 * @param  string|array  $rule 路由别名
 * @param  string$route 路由地址
 * @param  array $option 路由参数
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token variable">$route</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取别名路由定义
 * @access public
 * @param  string$name 路由别名
 * @return string|array|null
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getAlias</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置不同请求类型下面的方法前缀
 * @access public
 * @param  string|array  $method 请求类型
 * @param  string$prefix 类型前缀
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setMethodPrefix</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取请求类型的方法前缀
 * @access public
 * @param  string$method 请求类型
 * @param  string$prefix 类型前缀
 * @return string|null
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMethodPrefix</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * rest方法定义和修改
 * @access public
 * @param  string$name 方法名称
 * @param  array|bool$resource 资源
 * @return $this
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rest</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$resource</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取rest方法定义的参数
 * @access public
 * @param  string$name 方法名称
 * @return array|null
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRest</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册未匹配路由规则后的处理
 * @access public
 * @param  string$route 路由地址
 * @param  string$method 请求类型
 * @param  array $option 路由参数
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">miss</span><span class="token punctuation">(</span><span class="token variable">$route</span><span class="token punctuation">,</span> <span class="token variable">$method</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'*'</span><span class="token punctuation">,</span> <span class="token variable">$option</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册一个自动解析的URL路由
 * @access public
 * @param  string$route 路由地址
 * @return RuleItem
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">auto</span><span class="token punctuation">(</span><span class="token variable">$route</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测URL路由
 * @access public
 * @param  string$url URL地址
 * @param  string$depr URL分隔符
 * @param  bool  $must 是否强制路由
 * @param  bool  $completeMatch   路由是否完全匹配
 * @return Dispatch
 * @throws RouteNotFoundException
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token variable">$depr</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token variable">$must</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$completeMatch</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测域名的路由规则
 * @access protected
 * @param  string$host 当前主机地址
 * @return Domain
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkDomain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 分析路由规则中的变量
 * @access public
 * @param  string$rule 路由规则
 * @return array
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseVar</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置全局的路由分组参数
 * @access public
 * @param  string$method 方法名
 * @param  array $args   调用参数
 * @return RuleGroup
 */</span>
Route<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__call</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Session</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Session</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Session</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 设置或者获取session作用域（前缀）
 * @access public
 * @param  string $prefix
 * @return string|void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">prefix</span><span class="token punctuation">(</span><span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session初始化
 * @access public
 * @param  array $config
 * @return void
 * @throws \think\Exception
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session自动启动或者初始化
 * @access public
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session设置
 * @access public
 * @param  string$name session名称
 * @param  mixed $value session值
 * @param  string|null   $prefix 作用域（前缀）
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session获取
 * @access public
 * @param  string$name session名称
 * @param  string|null   $prefix 作用域（前缀）
 * @return mixed
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session 读写锁驱动实例化
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">initDriver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session 读写加锁
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session 读写解锁
 * @access protected
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session获取并删除
 * @access public
 * @param  string$name session名称
 * @param  string|null   $prefix 作用域（前缀）
 * @return mixed
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * session设置 下一次请求有效
 * @access public
 * @param  string$name session名称
 * @param  mixed $value session值
 * @param  string|null   $prefix 作用域（前缀）
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flash</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 清空当前请求的session数据
 * @access public
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 删除session数据
 * @access public
 * @param  string|array  $name session名称
 * @param  string|null   $prefix 作用域（前缀）
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 清空session数据
 * @access public
 * @param  string|null   $prefix 作用域（前缀）
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 判断session数据
 * @access public
 * @param  string$name session名称
 * @param  string|null   $prefix
 * @return bool
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 添加数据到一个session数组
 * @access public
 * @param  string  $key
 * @param  mixed   $value
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 启动session
 * @access public
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 销毁session
 * @access public
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 重新生成session_id
 * @access public
 * @param  bool $delete 是否删除关联会话文件
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">regenerate</span><span class="token punctuation">(</span><span class="token variable">$delete</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 暂停session
 * @access public
 * @return void
 */</span>
Session<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Template</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Template</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Template</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 字符串替换 避免正则混淆
 * @access private
 * @param  string $str
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">stripPreg</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板变量赋值
 * @access public
 * @param  mixed $name
 * @param  mixed $value
 * @return void
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板引擎参数赋值
 * @access public
 * @param  mixed $name
 * @param  mixed $value
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板引擎配置项
 * @access public
 * @param  array|string $config
 * @return void|array
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token variable">$config</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板变量获取
 * @access public
 * @param  string $name 变量名
 * @return mixed
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 渲染模板文件
 * @access public
 * @param  string$template 模板文件
 * @param  array $vars 模板变量
 * @param  array $config 模板参数
 * @return void
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 渲染模板内容
 * @access public
 * @param  string$content 模板内容
 * @param  array $vars 模板变量
 * @param  array $config 模板参数
 * @return void
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置布局
 * @access public
 * @param  mixed $name 布局模板名称 false 则关闭布局
 * @param  string$replace 布局模板内容替换标识
 * @return object
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">layout</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$replace</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查编译缓存是否有效
 * 如果无效则需要重新编译
 * @access private
 * @param  string $cacheFile 缓存文件名
 * @return boolean
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkCache</span><span class="token punctuation">(</span><span class="token variable">$cacheFile</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查编译缓存是否存在
 * @access public
 * @param  string $cacheId 缓存的id
 * @return boolean
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">isCache</span><span class="token punctuation">(</span><span class="token variable">$cacheId</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 编译模板文件内容
 * @access private
 * @param  string$content 模板内容
 * @param  string$cacheFile 缓存文件名
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">compiler</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$cacheFile</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板解析入口
 * 支持普通标签和TagLib解析 支持自定义标签库
 * @access public
 * @param  string $content 要解析的模板内容
 * @return void
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查PHP语法
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 * @throws \think\Exception
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parsePhp</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析模板中的布局标签
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseLayout</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析模板中的include标签
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseInclude</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析模板中的extend标签
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseExtend</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 替换页面中的literal标签
 * @access private
 * @param  string   $content 模板内容
 * @param  boolean  $restore 是否为还原
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseLiteral</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$restore</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取模板中的block标签
 * @access private
 * @param  string   $content 模板内容
 * @param  boolean  $sort 是否排序
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseBlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$sort</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 搜索模板页面中包含的TagLib库
 * 并返回列表
 * @access private
 * @param  string $content 模板内容
 * @return array|null
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getIncludeTagLib</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * TagLib库解析
 * @access public
 * @param  string   $tagLib 要解析的标签库
 * @param  string   $content 要解析的模板内容
 * @param  boolean  $hide 是否隐藏标签库前缀
 * @return void
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseTagLib</span><span class="token punctuation">(</span><span class="token variable">$tagLib</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$hide</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 分析标签属性
 * @access public
 * @param  string   $str 属性字符串
 * @param  string   $name 不为空时返回指定的属性名
 * @return array
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseAttr</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板标签解析
 * 格式： {TagName:args [|content] }
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseTag</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$content</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板变量解析,支持使用函数
 * 格式： {$varname|function1|function2=arg1,arg2}
 * @access public
 * @param  string $varStr 变量数据
 * @return void
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$varStr</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 对模板中使用了函数的变量进行解析
 * 格式 {$varname|function1|function2=arg1,arg2}
 * @access public
 * @param  string$varStr 变量字符串
 * @param  bool  $autoescape 自动转义
 * @return void
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseVarFunction</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$varStr</span><span class="token punctuation">,</span> <span class="token variable">$autoescape</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 特殊模板变量解析
 * 格式 以 $Think. 打头的变量属于特殊模板变量
 * @access public
 * @param  array $vars 变量数组
 * @return string
 */</span>
Template<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseThinkVar</span><span class="token punctuation">(</span><span class="token variable">$vars</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 分析加载的模板文件并读取内容 支持多个模板文件读取
 * @access private
 * @param  string $templateName 模板文件名
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseTemplateName</span><span class="token punctuation">(</span><span class="token variable">$templateName</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析模板文件名
 * @access private
 * @param  string $template 文件名
 * @return string|false
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseTemplateFile</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 按标签生成正则
 * @access private
 * @param  string $tagName 标签名
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRegex</span><span class="token punctuation">(</span><span class="token variable">$tagName</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Url</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Url</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * URL生成 支持路由反射
 * @access public
 * @param  string$url 路由地址
 * @param  string|array  $vars 参数（支持数组和字符串）a=val&amp;b=val2... ['a'=&gt;'val1', 'b'=&gt;'val2']
 * @param  string|bool   $suffix 伪静态后缀，默认为true表示获取配置值
 * @param  boolean|string$domain 是否显示域名 或者直接传入域名
 * @return string
 */</span>
Url<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$suffix</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span> <span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseUrl</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseDomain</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$url</span><span class="token punctuation">,</span> <span class="token variable">$domain</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">parseSuffix</span><span class="token punctuation">(</span><span class="token variable">$suffix</span><span class="token punctuation">)</span>

Url<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRuleUrl</span><span class="token punctuation">(</span><span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

Url<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">root</span><span class="token punctuation">(</span><span class="token variable">$root</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Validate</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$Validate</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 创建一个验证器类
 * @access public
 * @param  array $rules 验证规则
 * @param  array $message 验证提示信息
 * @param  array $field 验证字段描述信息
 */</span>
Validate<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$rules</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$message</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$field</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 添加字段验证规则
 * @access protected
 * @param  string|array  $name  字段名称或者规则数组
 * @param  mixed $rule  验证规则或者字段描述信息
 * @return $this
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 注册扩展验证（类型）规则
 * @access public
 * @param  string$type  验证规则类型
 * @param  mixed $callback callback方法(或闭包)
 * @return void
 */</span>
Validate<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$callback</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置验证规则的默认提示信息
 * @access public
 * @param  string|array  $type  验证规则类型名称或者数组
 * @param  string$msg  验证提示信息
 * @return void
 */</span>
Validate<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">setTypeMsg</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置提示信息
 * @access public
 * @param  string|array  $name  字段名称
 * @param  string$message 提示信息
 * @return Validate
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$message</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置验证场景
 * @access public
 * @param  string  $name  场景名
 * @return $this
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">scene</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 判断是否存在某个验证场景
 * @access public
 * @param  string $name 场景名
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hasScene</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置批量验证
 * @access public
 * @param  bool $batch  是否批量验证
 * @return $this
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">batch</span><span class="token punctuation">(</span><span class="token variable">$batch</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 指定需要验证的字段列表
 * @access public
 * @param  array $fields  字段名
 * @return $this
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">only</span><span class="token punctuation">(</span><span class="token variable">$fields</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 移除某个字段的验证规则
 * @access public
 * @param  string|array  $field  字段名
 * @param  mixed $rule   验证规则 true 移除所有规则
 * @return $this
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 追加某个字段的验证规则
 * @access public
 * @param  string|array  $field  字段名
 * @param  mixed $rule   验证规则
 * @return $this
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 数据自动验证
 * @access public
 * @param  array $data  数据
 * @param  mixed $rules  验证规则
 * @param  string$scene 验证场景
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$rules</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$scene</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 根据验证规则验证数据
 * @access public
 * @param  mixed $value 字段值
 * @param  mixed $rules 验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkRule</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rules</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证单个字段规则
 * @access protected
 * @param  string$field  字段名
 * @param  mixed $value  字段值
 * @param  mixed $rules  验证规则
 * @param  array $data  数据
 * @param  string$title  字段描述
 * @param  array $msg  提示信息
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">checkItem</span><span class="token punctuation">(</span><span class="token variable">$field</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rules</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$title</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取当前验证类型及规则
 * @access public
 * @param  mixed $key
 * @param  mixed $rule
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getValidateType</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否和某个字段的值一致
 * @access public
 * @param  mixed $value 字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @param  string$field 字段名
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$field</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否和某个字段的值是否不同
 * @access public
 * @param  mixed $value 字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">different</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否大于等于某个值
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">egt</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否大于某个值
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否小于等于某个值
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">elt</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否小于某个值
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否等于某个值
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 必须验证
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">must</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证字段值是否为有效格式
 * @access public
 * @param  mixed $value  字段值
 * @param  string$rule  验证规则
 * @param  array $data  验证数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getImageType</span><span class="token punctuation">(</span><span class="token variable">$image</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否为合格的域名或者IP 支持A，MX，NS，SOA，PTR，CNAME，AAAA，A6， SRV，NAPTR，TXT 或者 ANY类型
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">activeUrl</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'MX'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否有效IP
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则 ipv4 ipv6
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ip</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'ipv4'</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证上传文件后缀
 * @access public
 * @param  mixed $file  上传文件
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fileExt</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证上传文件类型
 * @access public
 * @param  mixed $file  上传文件
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fileMime</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证上传文件大小
 * @access public
 * @param  mixed $file  上传文件
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fileSize</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证图片的宽高及类型
 * @access public
 * @param  mixed $file  上传文件
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证请求类型
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证时间和日期是否符合指定格式
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否唯一
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则 格式：数据表,字段名,排除ID,主键名
 * @param  array $data  数据
 * @param  string$field  验证字段名
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$field</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 使用行为类验证
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return mixed
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">behavior</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 使用filter_var方式验证
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证某个字段等于某个值的时候必须
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">requireIf</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 通过回调方法验证某个字段是否必须
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">requireCallback</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证某个字段有值的情况下必须
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">requireWith</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否在范围内
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">in</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证是否不在某个范围
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">notIn</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * between验证数据
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">between</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 使用notbetween验证数据
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">notBetween</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证数据长度
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证数据最大长度
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证数据最小长度
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证日期
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证日期
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证有效期
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">expire</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证IP许可
 * @access public
 * @param  string$value  字段值
 * @param  mixed $rule  验证规则
 * @return mixed
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">allowIp</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证IP禁用
 * @access public
 * @param  string$value  字段值
 * @param  mixed $rule  验证规则
 * @return mixed
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">denyIp</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 使用正则验证数据
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则 正则规则或者预定义正则名
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">regex</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 验证表单令牌
 * @access public
 * @param  mixed $value  字段值
 * @param  mixed $rule  验证规则
 * @param  array $data  数据
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">token</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span>

Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取数据值
 * @access protected
 * @param  array $data  数据
 * @param  string$key  数据标识 支持二维
 * @return mixed
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getDataValue</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取验证规则的错误提示信息
 * @access protected
 * @param  string$attribute  字段英文名
 * @param  string$title  字段描述名
 * @param  string$type  验证规则名称
 * @param  mixed $rule  验证规则数据
 * @return string
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRuleMsg</span><span class="token punctuation">(</span><span class="token variable">$attribute</span><span class="token punctuation">,</span> <span class="token variable">$title</span><span class="token punctuation">,</span> <span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$rule</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 获取数据验证的场景
 * @access protected
 * @param  string $scene  验证场景
 * @return array
 */</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getScene</span><span class="token punctuation">(</span><span class="token variable">$scene</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 动态方法 直接调用is方法进行验证
 * @access public
 * @param  string $method  方法名
 * @param  array $args  调用参数
 * @return bool
 */</span>
Validate<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__call</span><span class="token punctuation">(</span><span class="token variable">$method</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">)</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">View</p><div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$View</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 初始化
 * @access public
 * @param  mixed $engine  模板引擎参数
 * @return $this
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token variable">$engine</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板变量静态赋值
 * @access public
 * @param  mixed $name  变量名
 * @param  mixed $value 变量值
 * @return $this
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">share</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板变量赋值
 * @access public
 * @param  mixed $name  变量名
 * @param  mixed $value 变量值
 * @return $this
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 设置当前模板解析的引擎
 * @access public
 * @param  array|string $options 引擎参数
 * @return $this
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 配置模板引擎
 * @access public
 * @param  string|array  $name 参数名
 * @param  mixed $value 参数值
 * @return $this
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检查模板是否存在
 * @access public
 * @param  string|array  $name 参数名
 * @return bool
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 视图过滤
 * @access public
 * @param Callable  $filter 过滤方法或闭包
 * @return $this
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token variable">$filter</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 解析和获取模板内容 用于输出
 * @access public
 * @param  string$template 模板文件名或者内容
 * @param  array $vars 模板输出变量
 * @param  array $config 模板参数
 * @param  bool  $renderContent 是否渲染内容
 * @return string
 * @throws \Exception
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token variable">$template</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$renderContent</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 渲染内容输出
 * @access public
 * @param  string $content 内容
 * @param  array  $vars模板输出变量
 * @param  array  $config  模板参数
 * @return mixed
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 模板变量赋值
 * @access public
 * @param  string$name  变量名
 * @param  mixed $value 变量值
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 取得模板显示变量的值
 * @access protected
 * @param  string $name 模板变量
 * @return mixed
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__get</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>

<span class="token comment">/**
 * 检测模板变量是否设置
 * @access public
 * @param  string $name 模板变量名
 * @return bool
 */</span>
View<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">__isset</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span>
</code></pre></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/vuepress/assets/js/app.78d76abf.js" defer></script><script src="/vuepress/assets/js/4.d8ab8fde.js" defer></script><script src="/vuepress/assets/js/16.7a15ea25.js" defer></script>
  </body>
</html>
