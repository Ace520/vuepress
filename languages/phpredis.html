<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuepress</title>
    <meta name="description" content="vuepress">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/vuepress/assets/css/0.styles.68cb6b73.css" as="style"><link rel="preload" href="/vuepress/assets/js/app.78d76abf.js" as="script"><link rel="preload" href="/vuepress/assets/js/4.d8ab8fde.js" as="script"><link rel="preload" href="/vuepress/assets/js/11.2b502189.js" as="script"><link rel="prefetch" href="/vuepress/assets/js/10.7d30284d.js"><link rel="prefetch" href="/vuepress/assets/js/12.6b37e325.js"><link rel="prefetch" href="/vuepress/assets/js/13.26ac10f5.js"><link rel="prefetch" href="/vuepress/assets/js/14.7b859e8c.js"><link rel="prefetch" href="/vuepress/assets/js/15.e710549d.js"><link rel="prefetch" href="/vuepress/assets/js/16.7a15ea25.js"><link rel="prefetch" href="/vuepress/assets/js/17.533656ec.js"><link rel="prefetch" href="/vuepress/assets/js/18.99401dd0.js"><link rel="prefetch" href="/vuepress/assets/js/2.2b239c25.js"><link rel="prefetch" href="/vuepress/assets/js/3.3e699e10.js"><link rel="prefetch" href="/vuepress/assets/js/5.cfa5e03e.js"><link rel="prefetch" href="/vuepress/assets/js/6.b45a4729.js"><link rel="prefetch" href="/vuepress/assets/js/7.9b093f33.js"><link rel="prefetch" href="/vuepress/assets/js/8.8e1d2b98.js"><link rel="prefetch" href="/vuepress/assets/js/9.a3cf0ec3.js">
    <link rel="stylesheet" href="/vuepress/assets/css/0.styles.68cb6b73.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="content__default"><h2 id="phpredis-速查表">PHPRedis 速查表</h2> <div class="card"><div class="card-box"><p class="title">Redis 连接与认证</p><div class="language-php extra-class"><pre class="language-php"><code>连接参数：ip、端口、连接超时时间，连接成功返回 <span class="token boolean constant">true</span>，否则返回 <span class="token boolean constant">false</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'127.0.0.1'</span><span class="token punctuation">,</span> <span class="token number">6379</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
密码认证：成功返回 <span class="token boolean constant">true</span>，否则返回 <span class="token boolean constant">false</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">auth</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">String</p><div class="language-php extra-class"><pre class="language-php"><code>设置键值：成功返回 <span class="token boolean constant">true</span>，否则返回 <span class="token boolean constant">false</span>

<span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Welcome!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取键值：成功返回 String 类型键值，若 key 不存在或不是 String 类型则返回 <span class="token boolean constant">false</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
从某个 key 所存储的字符串的指定偏移量开始，替换为另一指定字符串，成功返回替换后新字符串的长度。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">' to Beijing!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取存储在指定 key 中字符串的子字符串。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRange</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
设置新值，返回旧值：若 key 不存在则设置值，返回 <span class="token boolean constant">false</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSet</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'hi man'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
一次设置多个键值对：成功返回 <span class="token boolean constant">true</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mset</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
一次获取多个 key 的值：返回一个键值对数组，其中不存在的 key 值为 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">mget</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
设置指定 key 的值及其过期时间，单位：秒。

参数：键名，过期时间，键值。成功返回 <span class="token boolean constant">true</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setex</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
以毫秒为单位设置指定 key 的值和过期时间。成功返回 <span class="token boolean constant">true</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">psetex</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
key 的值不存在时，才为其设置值。key 不存在且设置成功返回 <span class="token boolean constant">true</span>，否则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setnx</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'boby'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
setnx 命令的批量操作。只有在给定所有 key 都不存在的时候才能设置成功，只要其中一个 key 存在，所有 key 都无法设置成功。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">msetnx</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'country'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'China'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'city'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'HangZhou'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取指定 key 存储的字符串的长度，key 不存在返回 <span class="token number">0</span>，不为字符串返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将指定 key 存储的数字值增加 <span class="token number">1</span>。若 key 不存在会先初始化为 <span class="token number">0</span> 再增加 <span class="token number">1</span>，若 key 存储的不是整数值则返回 <span class="token boolean constant">false</span>。成功返回 key 新值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">incr</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
给指定 key 存储的数字值增加指定增量值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">incrBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'age'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
给指定 key 存储的数字值增加指定浮点数增量。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">incrByFloat</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'age'</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将指定 key 存储的数字值减一。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">decr</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将指定 key 存储的数字值减去指定减量值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">decrBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'age'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
为指定 key 追加值到原值末尾，若 key 不存在则相对于 set <span class="token punctuation">(</span><span class="token punctuation">)</span> 函数。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'haha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Hash</p><div class="language-php extra-class"><pre class="language-php"><code>为 hash 表中的字段赋值。成功返回 <span class="token number">1</span>，失败返回 <span class="token number">0</span>。若 hash 表不存在会先创建表再赋值，若字段已存在会覆盖旧值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hSet</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'realname'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取 hash 表中指定字段的值。若 hash 表不存在则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hGet</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'realname'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
查看 hash 表的某个字段是否存在，存在返回 <span class="token boolean constant">true</span>，否则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hExists</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'realname'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
删除 hash 表的一个字段，不支持删除多个字段。成功返回 <span class="token number">1</span>，否则返回 <span class="token number">0</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hDel</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'realname'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
同时设置某个 hash 表的多个字段值。成功返回 <span class="token boolean constant">true</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hMset</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
同时获取某个 hash 表的多个字段值。其中不存在的字段值为 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hMget</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取某个 hash 表所有的字段和值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hGetAll</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取某个 hash 表所有字段名。hash 表不存在时返回空数组，key 不为 hash 表时返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hKeys</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取某个 hash 表所有字段值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hVals</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
为 hash 表中不存在的字段赋值。若 hash 表不存在则先创建，若字段已存在则不做任何操作。设置成功返回 <span class="token boolean constant">true</span>，否则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hSetNx</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'realname'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'cfun'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取某个 hash 表的字段数量。若 hash 表不存在返回 <span class="token number">0</span>，若 key 不为 hash 表则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hLen</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
为 hash 表中的指定字段加上指定增量值，若增量值为负数则相当于减法操作。若 hash 表不存在则先创建，若字段不存在则先初始化值为 <span class="token number">0</span> 再进行操作，若字段值为字符串则返回 <span class="token boolean constant">false</span>。设置成功返回字段新值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hIncrBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
为 hash 表中的指定字段加上指定浮点数增量值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">hIncrBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'age'</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">List</p><div class="language-php extra-class"><pre class="language-php"><code>从 <span class="token keyword">list</span> 头部插入一个值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lPush</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'ShangHai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
从 <span class="token keyword">list</span> 尾部插入一个值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rPush</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'ShangHai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
获取列表指定区间中的元素。<span class="token number">0</span> 表示列表第一个元素，<span class="token operator">-</span><span class="token number">1</span> 表示最后一个元素，<span class="token operator">-</span><span class="token number">2</span> 表示倒数第二个元素。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lrange</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
查看队列所有元素

将一个插入已存在的列表头部，列表不存在时操作无效。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lPushx</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'ShangHai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将一个或多个值插入已存在的列表尾部，列表不存在时操作无效。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rPushx</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'NanJing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除并返回列表的第一个元素，若 key 不存在或不是列表则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lPop</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除并返回列表的最后一个元素，若 key 不存在或不是列表则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rPop</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除并获取列表的第一个元素。如果列表没有元素则会阻塞列表直到等待超时或发现可弹出元素为止。

参数：key，超时时间（单位：秒）

返回值：<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">=</span><span class="token operator">&gt;</span>key<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">=</span><span class="token operator">&gt;</span>value<span class="token punctuation">]</span>，超时返回 <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">blPop</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除并获取列表的最后一个元素。如果列表没有元素则会阻塞列表直到等待超时或发现可弹出元素为止。

参数：key，超时时间（单位：秒）

返回值：<span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">=</span><span class="token operator">&gt;</span>key<span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">=</span><span class="token operator">&gt;</span>value<span class="token punctuation">]</span>，超时返回 <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">brPop</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除列表中最后一个元素，将其插入另一个列表头部，并返回这个元素。若源列表没有元素则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rpoplpush</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'city2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除列表中最后一个元素，将其插入另一个列表头部，并返回这个元素。如果列表没有元素则会阻塞列表直到等待超时或发现可弹出元素为止。

参数：源列表，目标列表，超时时间（单位：秒）

超时返回 <span class="token boolean constant">false</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">brpoplpush</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'city2'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回列表长度。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lLen</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
通过索引获取列表中的元素。若索引超出列表范围则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lindex</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
通过索引设置列表中元素的值。若是索引超出范围，或对一个空列表进行 lset 操作，则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lSet</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'changsha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
在列表中指定元素前或后面插入元素。若指定元素不在列表中，或列表不存在时，不执行任何操作。

参数：列表 key，Redis<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">AFTER</span> 或 Redis<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">BEFORE</span>，基准元素，插入元素

返回值：插入成功返回插入后列表元素个数，若基准元素不存在返回 <span class="token operator">-</span> <span class="token number">1</span>，若 key 不存在返回 <span class="token number">0</span>，若 key 不是列表返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lInsert</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> Redis<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">AFTER</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'changsha'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'nanjing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
根据第三个参数 count 的值，移除列表中与参数 value 相等的元素。

count <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">:</span> 从表头开始向表尾搜索，移除与 value 相等的元素，数量为 count。

count <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">:</span> 从表尾开始向表头搜索，移除与 value 相等的元素，数量为 count 的绝对值。

count <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">:</span> 移除表中所有与 value 相等的值。

返回实际删除元素个数

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">lrem</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'ShangHai'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
对一个列表进行修剪，只保留指定区间的元素，其他元素都删除。成功返回 <span class="token boolean constant">true</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ltrim</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'city'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Set</p><div class="language-php extra-class"><pre class="language-php"><code>将一个元素加入集合，已经存在集合中的元素则忽略。若集合不存在则先创建，若 key 不是集合类型则返回 <span class="token boolean constant">false</span>，若元素已存在返回 <span class="token number">0</span>，插入成功返回 <span class="token number">1</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sAdd</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回集合中所有成员。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sMembers</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
判断指定元素是否是指定集合的成员，是返回 <span class="token boolean constant">true</span>，否则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sismember</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回集合中元素的数量。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">scard</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除并返回集合中的一个随机元素。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sPop</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回集合中的一个或多个随机成员元素，返回元素的数量和情况由函数的第二个参数 count 决定：

如果 count 为正数，且小于集合基数，那么命令返回一个包含 count 个元素的数组，数组中的元素各不相同。

如果 count 大于等于集合基数，那么返回整个集合。

如果 count 为负数，那么命令返回一个数组，数组中的元素可能会重复出现多次，而数组的长度为 count 的绝对值。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sRandMember</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除集合中指定的一个元素，忽略不存在的元素。删除成功返回 <span class="token number">1</span>，否则返回 <span class="token number">0</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">srem</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
迭代集合中的元素。

参数：key，迭代器变量，匹配模式，每次返回元素数量（默认为 <span class="token number">10</span> 个）

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sscan</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token variable">$it</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'a*'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将指定成员从一个源集合移动到一个目的集合。若源集合不存在或不包含指定元素则不做任何操作，返回 <span class="token boolean constant">false</span>。

参数：源集合，目标集合，移动元素

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sMove</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回所有给定集合之间的差集，不存在的集合视为空集。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sDiff</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将所有给定集合之间的差集存储在指定的目的集合中。若目的集合已存在则覆盖它。返回差集元素个数。

参数：第一个参数为目标集合，存储差集。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sDiffStore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset3'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回所有给定集合的交集，不存在的集合视为空集。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sInter</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将所有给定集合的交集存储在指定的目的集合中。若目的集合已存在则覆盖它。返回交集元素个数。

参数：第一个参数为目标集合，存储交集。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sInterStore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset4'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回所有给定集合的并集，不存在的集合视为空集。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sUnion</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
将所有给定集合的并集存储在指定的目的集合中。若目的集合已存在则覆盖它。返回并集元素个数。

参数：第一个参数为目标集合，存储并集。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">sUnionStore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'myset4'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'myset3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div><div class="card"><div class="card-box"><p class="title">Zset</p><div class="language-php extra-class"><pre class="language-php"><code>将一个或多个成员元素及其分数值加入到有序集当中。如果某个成员已经是有序集的成员，则更新这个成员的分数值，并通过重新插入这个成员元素，来保证该成员在正确的位置上。分数值可以是整数值或双精度浮点数。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zAdd</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'English'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'physics'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回有序集中指定区间内的成员。成员按分数值递增排序，分数值相同的则按字典序来排序。

参数：第四个参数表示是否返回各个元素的分数值，默认为 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRange</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
查看 Zset 所有成员以及它们各自的分数值

返回有序集中指定区间内的成员。成员按分数值递减排序，分数值相同的则按字典序的逆序来排序。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zReverseRange</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回有序集中指定分数区间的成员列表，按分数值递增排序，分数值相同的则按字典序来排序。默认使用闭区间。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRangeByScore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'withscores'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token boolean constant">true</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回有序集中指定分数区间的成员列表，按分数值递减排序，分数值相同的则按字典序的逆序来排序。注意，区间表示的时候大值在前，小值在后，默认使用闭区间。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRevRangeByScore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'withscores'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token boolean constant">true</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
迭代有序集合中的元素。

返回值：<span class="token punctuation">[</span>元素名 <span class="token operator">=</span><span class="token operator">&gt;</span> 分数值，，<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zscan</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token variable">$it</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回指定有序集的元素数量。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zCard</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回有序集中指定分数区间的成员数量。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zCount</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回有序集中指定成员的分数值。若成员不存在则返回 <span class="token boolean constant">false</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zScore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'math'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回有序集中指定成员的排名，按分数值递增排序。分数值最小者排名为 <span class="token number">0</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRank</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'chemistry'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
返回有序集中指定成员的排名，按分数值递减排序。分数值最大者排名为 <span class="token number">0</span>。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRevRank</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'chemistry'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除有序集中的一个或多个成员，忽略不存在的成员。返回删除的元素个数。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRem</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'chemistry'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'English'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除有序集中指定排名区间的所有成员。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRemRangeByRank</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
移除有序集中指定分数值区间的所有成员。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zRemRangeByScore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
对有序集中指定成员的分数值增加指定增量值。若为负数则做减法，若有序集不存在则先创建，若有序集中没有对应成员则先添加，最后再操作。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zIncrBy</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'scores'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'Chinese'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
计算给定一个或多个有序集的交集，并将其存储到一个目的有序集中。结果集中某个成员的分数值是所有给定集下该成员分数值之和。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zinterstore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'zset3'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'zset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'zset1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
计算给定一个或多个有序集的并集，并将其存储到一个目的有序集中。结果集中某个成员的分数值是所有给定集下该成员分数值之和。

<span class="token variable">$ret</span> <span class="token operator">=</span> <span class="token variable">$redis</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">zunionstore</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'zset3'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'zset2'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'zset1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/vuepress/assets/js/app.78d76abf.js" defer></script><script src="/vuepress/assets/js/4.d8ab8fde.js" defer></script><script src="/vuepress/assets/js/11.2b502189.js" defer></script>
  </body>
</html>
